!function(){function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}function e(t,n){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,n)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,c=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(c,arguments,o)}else n=c.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,i=!1,c=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(l){i=!0,c=l}finally{try{a||null==r.return||r.return()}finally{if(i)throw c}}return n}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function l(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{S1hg:function(e,a,i){"use strict";i.r(a),i.d(a,"DriversModule",function(){return Ze});var r,l=i("tyNb"),b=i("bTqV"),m=i("bSwM"),d=i("FKr1"),f=i("iadO"),h=i("kmnG"),p=i("NFeN"),v=i("qFsG"),g=i("STbY"),y=i("+0xr"),k=i("/t3+"),D=i("wZkO"),C=i("5HBU"),w=i("LPQX"),x=i("3Pt+"),W=i("XNiG"),X=i("1G5W"),R=i("Kj3r"),S=i("/uUt"),L=i("PVWW"),N=i("fXoL"),_=i("2Vo4"),q=i("jD4G"),A=function t(e){u(this,t),this.id=e.id||q.a.generateGUID(),this.image=e.image||"",this.name=e.name||"",this.mobile=e.mobile||"",this.carType=e.car_type||"",this.carName=e.car_name||"",this.registerDate=e.register_date||""},O=i("tk/3"),F=i("rCGI"),U=((r=function(){function t(e,n){u(this,t),this._httpClient=e,this.apis=n,this.selectedContacts=[],this.onContactsChanged=new _.a([]),this.onSelectedContactsChanged=new _.a([]),this.onUserDataChanged=new _.a([]),this.BlcokedDriversonChanged=new _.a([]),this.WaitingDriversonChanged=new _.a([]),this.SharingDriversonChanged=new _.a([]),this.onSearchTextChanged=new W.a,this.onFilterChanged=new W.a}return s(t,[{key:"resolve",value:function(t,e){var n=this;return new Promise(function(t,e){Promise.all([n.getData(),n.getBlcokedDriversData(),n.getWaitingDriversData(),n.getSharingDriversData(),n.getUserData()]).then(function(e){c(e,1)[0],n.onSearchTextChanged.subscribe(function(t){n.searchText=t,n.getData()}),n.onFilterChanged.subscribe(function(t){n.filterBy=t,n.getData()}),t()},e)})}},{key:"getData",value:function(){var t=this;return new Promise(function(e,n){t.apis.activeDrivers().subscribe(function(n){t.data=n.data,t.data=t.data.map(function(t){return new A(t)}),t.onContactsChanged.next(t.data),e(t.data)},n)})}},{key:"getBlcokedDriversData",value:function(){var t=this;return new Promise(function(e,n){t.apis.blockedDrivers().subscribe(function(n){t.blockDrivers=n.data,t.blockDrivers=t.blockDrivers.map(function(t){return new A(t)}),t.BlcokedDriversonChanged.next(t.blockDrivers),e(t.blockDrivers)},n)})}},{key:"getWaitingDriversData",value:function(){var t=this;return new Promise(function(e,n){t.apis.waitingDrivers().subscribe(function(n){t.waitingDrivers=n.data,t.waitingDrivers=t.waitingDrivers.map(function(t){return new A(t)}),t.WaitingDriversonChanged.next(t.waitingDrivers),e(t.waitingDrivers)},n)})}},{key:"getSharingDriversData",value:function(){var t=this;return new Promise(function(e,n){t.apis.sharingDrivers().subscribe(function(n){t.sharingDrivers=n.data,t.sharingDrivers=t.sharingDrivers.map(function(t){return new A(t)}),t.SharingDriversonChanged.next(t.sharingDrivers),e(t.sharingDrivers)},n)})}},{key:"getUserData",value:function(){var t=this;return new Promise(function(e,n){t._httpClient.get("api/contacts-user/5725a6802d10e277a0f35724").subscribe(function(n){t.user=n,t.onUserDataChanged.next(t.user),e(t.user)},n)})}},{key:"toggleSelectedContact",value:function(t){if(this.selectedContacts.length>0){var e=this.selectedContacts.indexOf(t);if(-1!==e)return this.selectedContacts.splice(e,1),void this.onSelectedContactsChanged.next(this.selectedContacts)}this.selectedContacts.push(t),this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"toggleSelectAll",value:function(){this.selectedContacts.length>0?this.deselectContacts():this.selectContacts()}},{key:"selectContacts",value:function(t,e){var n=this;this.selectedContacts=[],void 0!==t&&void 0!==e||(this.selectedContacts=[],this.data.map(function(t){n.selectedContacts.push(t.id)})),this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"updateContact",value:function(t){var e=this;return new Promise(function(n,a){e._httpClient.post("api/contacts-contacts/"+t.id,Object.assign({},t)).subscribe(function(t){e.getData(),n(t)})})}},{key:"updateUserData",value:function(t){var e=this;return new Promise(function(n,a){e._httpClient.post("api/contacts-user/"+e.user.id,Object.assign({},t)).subscribe(function(t){e.getUserData(),e.getData(),n(t)})})}},{key:"deselectContacts",value:function(){this.selectedContacts=[],this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"deleteContact",value:function(t){var e=this.data.indexOf(t);this.data.splice(e,1),this.onContactsChanged.next(this.data)}},{key:"blockContact",value:function(t){var e=this.data.indexOf(t);this.data.splice(e,1),this.onContactsChanged.next(this.data)}},{key:"deleteSelectedContacts",value:function(){var t,e=this,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,r=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){l=!0,c=t},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw c}}}}(this.selectedContacts);try{var a=function(){var n=t.value,a=e.data.find(function(t){return t.id===n}),i=e.data.indexOf(a);e.data.splice(i,1)};for(n.s();!(t=n.n()).done;)a()}catch(i){n.e(i)}finally{n.f()}this.onContactsChanged.next(this.data),this.deselectContacts()}}]),t}()).\u0275fac=function(t){return new(t||r)(N.bc(O.b),N.bc(F.a))},r.\u0275prov=N.Nb({token:r,factory:r.\u0275fac}),r),T=i("HX77"),j=i("0IaG"),B=i("B9zo"),M=i("XiUz"),$=i("znSr"),P=i("EwFO"),V=i("0EQZ"),I=i("2nsM"),E=i("ofXK"),H=["dialogContent"];function z(t,e){1&t&&N.Sb(0,"mat-header-cell")}function G(t,e){if(1&t&&N.Sb(0,"img",15),2&t){var n=N.jc().$implicit;N.pc("alt",n.name)("src",n.image,N.Dc)}}function Y(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Lc(1,G,1,2,"img",14),N.Wb()),2&t){var n=e.$implicit;N.Fb(1),N.pc("ngIf",n.image)}}function Q(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Name"),N.Wb())}function K(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.name)}}function J(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Car Type"),N.Wb())}function Z(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.carType)}}function tt(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Car Name"),N.Wb())}function et(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.carName)}}function nt(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Register Date"),N.Wb())}function at(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.registerDate)}}function it(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Mobile"),N.Wb())}function ct(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.mobile)}}function ot(t,e){1&t&&N.Sb(0,"mat-header-cell")}function rt(t,e){1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"div",17),N.Xb(2,"a",18),N.Xb(3,"button",19),N.fc("click",function(t){return t.stopPropagation()}),N.Xb(4,"mat-icon",20),N.Nc(5,"info"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb())}function lt(t,e){1&t&&N.Sb(0,"mat-header-cell")}function st(t,e){if(1&t){var n=N.Yb();N.Xb(0,"mat-cell"),N.Xb(1,"div",17),N.Xb(2,"button",21),N.fc("click",function(t){return t.stopPropagation()}),N.Xb(3,"mat-icon",20),N.Nc(4,"more_vert"),N.Wb(),N.Wb(),N.Xb(5,"mat-menu",null,22),N.Xb(7,"button",23),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().deleteContact(t)}),N.Xb(8,"mat-icon"),N.Nc(9,"delete"),N.Wb(),N.Xb(10,"span"),N.Nc(11,"Remove"),N.Wb(),N.Wb(),N.Xb(12,"button",24),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().blockContact(t)}),N.Xb(13,"mat-icon"),N.Nc(14,"error"),N.Wb(),N.Xb(15,"span"),N.Nc(16,"Block"),N.Wb(),N.Wb(),N.Xb(17,"button",24),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().callActivateDriverAPi(t)}),N.Xb(18,"mat-icon"),N.Nc(19,"check"),N.Wb(),N.Xb(20,"span"),N.Nc(21,"Activate"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb()}if(2&t){var a=N.xc(6);N.Fb(2),N.pc("matMenuTriggerFor",a)}}function ut(t,e){1&t&&N.Sb(0,"mat-header-row")}var bt=function(t){return{"accent-50":t}},mt=function(){return{y:"100%"}},dt=function(t){return{value:"*",params:t}};function ft(t,e){if(1&t&&N.Sb(0,"mat-row",25),2&t){var n=e.$implicit,a=N.jc();N.pc("ngClass",N.tc(2,bt,a.checkboxes[n.id]))("@animate",N.tc(5,dt,N.sc(4,mt)))}}var ht,pt=function(){return{value:"50"}},vt=((ht=function(){function t(e,n,a){u(this,t),this._waitingDrivers=e,this.apis=n,this._matDialog=a,this.displayedColumns=["image","name","carType","carName","registerDate","mobile","info","buttons"],this._unsubscribeAll=new W.a}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.waitingDataSource=new gt(this._waitingDrivers),this._waitingDrivers.WaitingDriversonChanged.pipe(Object(X.a)(this._unsubscribeAll)).subscribe(function(e){t.waitingDrivers=e,t.checkboxes={},e.map(function(e){t.checkboxes[e.id]=!1})})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"deleteContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(I.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe(function(n){n&&e._waitingDrivers.deleteContact(t),e.confirmDialogRef=null})}},{key:"unBlockContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(I.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to un block this driver?",this.confirmDialogRef.afterClosed().subscribe(function(n){n&&e.callUnBlockAPi(t),e.confirmDialogRef=null})}},{key:"callUnBlockAPi",value:function(t){this.apis.UnBlockDriver({id:t.id}).subscribe(function(t){},function(t){console.log(t)})}},{key:"callActivateDriverAPi",value:function(t){this.apis.activeDriverAccount({id:t.id}).subscribe(function(t){},function(t){console.log(t)})}},{key:"onSelectedChange",value:function(t){this._waitingDrivers.toggleSelectedContact(t)}},{key:"toggleStar",value:function(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._waitingDrivers.updateUserData(this.user)}}]),t}()).\u0275fac=function(t){return new(t||ht)(N.Rb(U),N.Rb(F.a),N.Rb(j.b))},ht.\u0275cmp=N.Lb({type:ht,selectors:[["waiting-component"]],viewQuery:function(t,e){var n;1&t&&N.Rc(H,!0),2&t&&N.wc(n=N.gc())&&(e.dialogContent=n.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","image"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","carType"],["matColumnDef","carName"],["matColumnDef","registerDate"],["matColumnDef","mobile"],["matColumnDef","info"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","contact",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxFlex","row","fxLayoutAlign","end center"],["routerLink","/views/driverDetails"],["mat-icon-button","","aria-label","More",3,"click"],[1,"secondary-text"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],["mat-menu-item","","aria-label","edit",3,"click"],[1,"contact",3,"ngClass"]],template:function(t,e){1&t&&(N.Xb(0,"mat-table",0,1),N.Vb(2,2),N.Lc(3,z,1,0,"mat-header-cell",3),N.Lc(4,Y,2,1,"mat-cell",4),N.Ub(),N.Vb(5,5),N.Lc(6,Q,2,0,"mat-header-cell",3),N.Lc(7,K,3,1,"mat-cell",4),N.Ub(),N.Vb(8,6),N.Lc(9,J,2,0,"mat-header-cell",3),N.Lc(10,Z,3,1,"mat-cell",4),N.Ub(),N.Vb(11,7),N.Lc(12,tt,2,0,"mat-header-cell",3),N.Lc(13,et,3,1,"mat-cell",4),N.Ub(),N.Vb(14,8),N.Lc(15,nt,2,0,"mat-header-cell",3),N.Lc(16,at,3,1,"mat-cell",4),N.Ub(),N.Vb(17,9),N.Lc(18,it,2,0,"mat-header-cell",3),N.Lc(19,ct,3,1,"mat-cell",4),N.Ub(),N.Vb(20,10),N.Lc(21,ot,1,0,"mat-header-cell",3),N.Lc(22,rt,6,0,"mat-cell",4),N.Ub(),N.Vb(23,11),N.Lc(24,lt,1,0,"mat-header-cell",3),N.Lc(25,st,22,1,"mat-cell",4),N.Ub(),N.Lc(26,ut,1,0,"mat-header-row",12),N.Lc(27,ft,1,7,"mat-row",13),N.Wb()),2&t&&(N.pc("dataSource",e.waitingDrivers)("@animateStagger",N.sc(4,pt)),N.Fb(26),N.pc("matHeaderRowDef",e.displayedColumns),N.Fb(1),N.pc("matRowDefColumns",e.displayedColumns))},directives:[y.j,y.c,y.e,y.b,y.g,y.i,y.d,y.a,E.t,M.a,M.b,l.i,b.b,p.a,g.d,g.a,g.b,y.f,y.h,E.q,$.a],styles:["list-component{display:flex;flex:1 1 auto;width:100%}list-component .mat-table{width:100%;background:transparent;box-shadow:none}list-component .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}list-component .mat-table .mat-column-avatar{flex:0 1 64px}list-component .mat-table .mat-column-buttons{flex:0 1 80px}list-component .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}list-component .mat-table .mat-row .mat-cell{min-width:0}list-component .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){list-component .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:L.a}}),ht),gt=function(e){t(i,e);var a=n(i);function i(t){var e;return u(this,i),(e=a.call(this))._waitingDrivers=t,e}return s(i,[{key:"connect",value:function(){return this._waitingDrivers.WaitingDriversonChanged}},{key:"disconnect",value:function(){}}]),i}(V.b),yt=["dialogContent"];function kt(t,e){1&t&&N.Sb(0,"mat-header-cell")}function Dt(t,e){if(1&t&&N.Sb(0,"img",15),2&t){var n=N.jc().$implicit;N.pc("alt",n.name)("src",n.image,N.Dc)}}function Ct(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Lc(1,Dt,1,2,"img",14),N.Wb()),2&t){var n=e.$implicit;N.Fb(1),N.pc("ngIf",n.image)}}function wt(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Name"),N.Wb())}function xt(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.name)}}function Wt(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Car Type"),N.Wb())}function Xt(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.carType)}}function Rt(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Car Name"),N.Wb())}function St(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.carName)}}function Lt(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Register Date"),N.Wb())}function Nt(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.registerDate)}}function _t(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Mobile"),N.Wb())}function qt(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.mobile)}}function At(t,e){1&t&&N.Sb(0,"mat-header-cell")}function Ot(t,e){1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"div",17),N.Xb(2,"a",18),N.Xb(3,"button",19),N.fc("click",function(t){return t.stopPropagation()}),N.Xb(4,"mat-icon",20),N.Nc(5,"info"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb())}function Ft(t,e){1&t&&N.Sb(0,"mat-header-cell")}function Ut(t,e){if(1&t){var n=N.Yb();N.Xb(0,"mat-cell"),N.Xb(1,"div",17),N.Xb(2,"button",21),N.fc("click",function(t){return t.stopPropagation()}),N.Xb(3,"mat-icon",20),N.Nc(4,"more_vert"),N.Wb(),N.Wb(),N.Xb(5,"mat-menu",null,22),N.Xb(7,"button",23),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().deleteContact(t)}),N.Xb(8,"mat-icon"),N.Nc(9,"delete"),N.Wb(),N.Xb(10,"span"),N.Nc(11,"Remove"),N.Wb(),N.Wb(),N.Xb(12,"button",24),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().blockContact(t)}),N.Xb(13,"mat-icon"),N.Nc(14,"error"),N.Wb(),N.Xb(15,"span"),N.Nc(16,"Block"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb()}if(2&t){var a=N.xc(6);N.Fb(2),N.pc("matMenuTriggerFor",a)}}function Tt(t,e){1&t&&N.Sb(0,"mat-header-row")}var jt=function(t){return{"accent-50":t}},Bt=function(){return{y:"100%"}},Mt=function(t){return{value:"*",params:t}};function $t(t,e){if(1&t&&N.Sb(0,"mat-row",25),2&t){var n=e.$implicit,a=N.jc();N.pc("ngClass",N.tc(2,jt,a.checkboxes[n.id]))("@animate",N.tc(5,Mt,N.sc(4,Bt)))}}var Pt,Vt=function(){return{value:"50"}},It=((Pt=function(){function t(e,n,a){u(this,t),this._contactsService=e,this.apis=n,this._matDialog=a,this.displayedColumns=["image","name","carType","carName","registerDate","mobile","info","buttons"],this._unsubscribeAll=new W.a}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.dataSource=new Et(this._contactsService),this._contactsService.onContactsChanged.pipe(Object(X.a)(this._unsubscribeAll)).subscribe(function(e){t.contacts=e,t.checkboxes={},e.map(function(e){t.checkboxes[e.id]=!1})})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"deleteContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(I.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe(function(n){n&&e._contactsService.deleteContact(t),e.confirmDialogRef=null})}},{key:"blockContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(I.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to block this driver?",this.confirmDialogRef.afterClosed().subscribe(function(n){n&&e.callBlockAPi(t),e.confirmDialogRef=null})}},{key:"callBlockAPi",value:function(t){this.apis.BlockDriver({id:t.id}).subscribe(function(t){},function(t){console.log(t)})}},{key:"onSelectedChange",value:function(t){this._contactsService.toggleSelectedContact(t)}},{key:"toggleStar",value:function(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._contactsService.updateUserData(this.user)}}]),t}()).\u0275fac=function(t){return new(t||Pt)(N.Rb(U),N.Rb(F.a),N.Rb(j.b))},Pt.\u0275cmp=N.Lb({type:Pt,selectors:[["list-component"]],viewQuery:function(t,e){var n;1&t&&N.Rc(yt,!0),2&t&&N.wc(n=N.gc())&&(e.dialogContent=n.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","image"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","carType"],["matColumnDef","carName"],["matColumnDef","registerDate"],["matColumnDef","mobile"],["matColumnDef","info"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","contact",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxFlex","row","fxLayoutAlign","end center"],["routerLink","/views/driverDetails"],["mat-icon-button","","aria-label","More",3,"click"],[1,"secondary-text"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],["mat-menu-item","","aria-label","edit",3,"click"],[1,"contact",3,"ngClass"]],template:function(t,e){1&t&&(N.Xb(0,"mat-table",0,1),N.Vb(2,2),N.Lc(3,kt,1,0,"mat-header-cell",3),N.Lc(4,Ct,2,1,"mat-cell",4),N.Ub(),N.Vb(5,5),N.Lc(6,wt,2,0,"mat-header-cell",3),N.Lc(7,xt,3,1,"mat-cell",4),N.Ub(),N.Vb(8,6),N.Lc(9,Wt,2,0,"mat-header-cell",3),N.Lc(10,Xt,3,1,"mat-cell",4),N.Ub(),N.Vb(11,7),N.Lc(12,Rt,2,0,"mat-header-cell",3),N.Lc(13,St,3,1,"mat-cell",4),N.Ub(),N.Vb(14,8),N.Lc(15,Lt,2,0,"mat-header-cell",3),N.Lc(16,Nt,3,1,"mat-cell",4),N.Ub(),N.Vb(17,9),N.Lc(18,_t,2,0,"mat-header-cell",3),N.Lc(19,qt,3,1,"mat-cell",4),N.Ub(),N.Vb(20,10),N.Lc(21,At,1,0,"mat-header-cell",3),N.Lc(22,Ot,6,0,"mat-cell",4),N.Ub(),N.Vb(23,11),N.Lc(24,Ft,1,0,"mat-header-cell",3),N.Lc(25,Ut,17,1,"mat-cell",4),N.Ub(),N.Lc(26,Tt,1,0,"mat-header-row",12),N.Lc(27,$t,1,7,"mat-row",13),N.Wb()),2&t&&(N.pc("dataSource",e.dataSource)("@animateStagger",N.sc(4,Vt)),N.Fb(26),N.pc("matHeaderRowDef",e.displayedColumns),N.Fb(1),N.pc("matRowDefColumns",e.displayedColumns))},directives:[y.j,y.c,y.e,y.b,y.g,y.i,y.d,y.a,E.t,M.a,M.b,l.i,b.b,p.a,g.d,g.a,g.b,y.f,y.h,E.q,$.a],styles:["list-component{display:flex;flex:1 1 auto;width:100%}list-component .mat-table{width:100%;background:transparent;box-shadow:none}list-component .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}list-component .mat-table .mat-column-avatar{flex:0 1 64px}list-component .mat-table .mat-column-buttons{flex:0 1 80px}list-component .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}list-component .mat-table .mat-row .mat-cell{min-width:0}list-component .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){list-component .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:L.a}}),Pt),Et=function(e){t(i,e);var a=n(i);function i(t){var e;return u(this,i),(e=a.call(this))._contactsService=t,e}return s(i,[{key:"connect",value:function(){return this._contactsService.onContactsChanged}},{key:"disconnect",value:function(){}}]),i}(V.b),Ht=["dialogContent"];function zt(t,e){1&t&&N.Sb(0,"mat-header-cell")}function Gt(t,e){if(1&t&&N.Sb(0,"img",15),2&t){var n=N.jc().$implicit;N.pc("alt",n.name)("src",n.image,N.Dc)}}function Yt(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Lc(1,Gt,1,2,"img",14),N.Wb()),2&t){var n=e.$implicit;N.Fb(1),N.pc("ngIf",n.image)}}function Qt(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Name"),N.Wb())}function Kt(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.name)}}function Jt(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Car Type"),N.Wb())}function Zt(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.carType)}}function te(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Car Name"),N.Wb())}function ee(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.carName)}}function ne(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Register Date"),N.Wb())}function ae(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.registerDate)}}function ie(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Mobile"),N.Wb())}function ce(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.mobile)}}function oe(t,e){1&t&&N.Sb(0,"mat-header-cell")}function re(t,e){1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"div",17),N.Xb(2,"a",18),N.Xb(3,"button",19),N.fc("click",function(t){return t.stopPropagation()}),N.Xb(4,"mat-icon",20),N.Nc(5,"info"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb())}function le(t,e){1&t&&N.Sb(0,"mat-header-cell")}function se(t,e){if(1&t){var n=N.Yb();N.Xb(0,"mat-cell"),N.Xb(1,"div",17),N.Xb(2,"button",21),N.fc("click",function(t){return t.stopPropagation()}),N.Xb(3,"mat-icon",20),N.Nc(4,"more_vert"),N.Wb(),N.Wb(),N.Xb(5,"mat-menu",null,22),N.Xb(7,"button",23),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().deleteContact(t)}),N.Xb(8,"mat-icon"),N.Nc(9,"delete"),N.Wb(),N.Xb(10,"span"),N.Nc(11,"Remove"),N.Wb(),N.Wb(),N.Xb(12,"button",24),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().blockContact(t)}),N.Xb(13,"mat-icon"),N.Nc(14,"error"),N.Wb(),N.Xb(15,"span"),N.Nc(16,"Block"),N.Wb(),N.Wb(),N.Xb(17,"button",24),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().editDialog(t)}),N.Xb(18,"mat-icon"),N.Nc(19,"check"),N.Wb(),N.Xb(20,"span"),N.Nc(21,"Activate"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb()}if(2&t){var a=N.xc(6);N.Fb(2),N.pc("matMenuTriggerFor",a)}}function ue(t,e){1&t&&N.Sb(0,"mat-header-row")}var be=function(t){return{"accent-50":t}},me=function(){return{y:"100%"}},de=function(t){return{value:"*",params:t}};function fe(t,e){if(1&t&&N.Sb(0,"mat-row",25),2&t){var n=e.$implicit,a=N.jc();N.pc("ngClass",N.tc(2,be,a.checkboxes[n.id]))("@animate",N.tc(5,de,N.sc(4,me)))}}var he,pe=function(){return{value:"50"}},ve=((he=function(){function t(e,n,a){u(this,t),this._sharingDrivers=e,this.apis=n,this._matDialog=a,this.displayedColumns=["image","name","carType","carName","registerDate","mobile","info","buttons"],this._unsubscribeAll=new W.a}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.sharingDataSource=new ge(this._sharingDrivers),this._sharingDrivers.WaitingDriversonChanged.pipe(Object(X.a)(this._unsubscribeAll)).subscribe(function(e){t.sharingDrivers=e,t.checkboxes={},e.map(function(e){t.checkboxes[e.id]=!1})})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"deleteContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(I.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe(function(n){n&&e._sharingDrivers.deleteContact(t),e.confirmDialogRef=null})}},{key:"unBlockContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(I.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to un block this driver?",this.confirmDialogRef.afterClosed().subscribe(function(n){n&&e.callUnBlockAPi(t),e.confirmDialogRef=null})}},{key:"callUnBlockAPi",value:function(t){this.apis.UnBlockDriver({id:t.id}).subscribe(function(t){},function(t){console.log(t)})}},{key:"onSelectedChange",value:function(t){this._sharingDrivers.toggleSelectedContact(t)}},{key:"toggleStar",value:function(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._sharingDrivers.updateUserData(this.user)}}]),t}()).\u0275fac=function(t){return new(t||he)(N.Rb(U),N.Rb(F.a),N.Rb(j.b))},he.\u0275cmp=N.Lb({type:he,selectors:[["sharing-component"]],viewQuery:function(t,e){var n;1&t&&N.Rc(Ht,!0),2&t&&N.wc(n=N.gc())&&(e.dialogContent=n.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","image"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","carType"],["matColumnDef","carName"],["matColumnDef","registerDate"],["matColumnDef","mobile"],["matColumnDef","info"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","waitingDriver",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxFlex","row","fxLayoutAlign","end center"],["routerLink","/views/driverDetails"],["mat-icon-button","","aria-label","More",3,"click"],[1,"secondary-text"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],["mat-menu-item","","aria-label","edit",3,"click"],[1,"waitingDriver",3,"ngClass"]],template:function(t,e){1&t&&(N.Xb(0,"mat-table",0,1),N.Vb(2,2),N.Lc(3,zt,1,0,"mat-header-cell",3),N.Lc(4,Yt,2,1,"mat-cell",4),N.Ub(),N.Vb(5,5),N.Lc(6,Qt,2,0,"mat-header-cell",3),N.Lc(7,Kt,3,1,"mat-cell",4),N.Ub(),N.Vb(8,6),N.Lc(9,Jt,2,0,"mat-header-cell",3),N.Lc(10,Zt,3,1,"mat-cell",4),N.Ub(),N.Vb(11,7),N.Lc(12,te,2,0,"mat-header-cell",3),N.Lc(13,ee,3,1,"mat-cell",4),N.Ub(),N.Vb(14,8),N.Lc(15,ne,2,0,"mat-header-cell",3),N.Lc(16,ae,3,1,"mat-cell",4),N.Ub(),N.Vb(17,9),N.Lc(18,ie,2,0,"mat-header-cell",3),N.Lc(19,ce,3,1,"mat-cell",4),N.Ub(),N.Vb(20,10),N.Lc(21,oe,1,0,"mat-header-cell",3),N.Lc(22,re,6,0,"mat-cell",4),N.Ub(),N.Vb(23,11),N.Lc(24,le,1,0,"mat-header-cell",3),N.Lc(25,se,22,1,"mat-cell",4),N.Ub(),N.Lc(26,ue,1,0,"mat-header-row",12),N.Lc(27,fe,1,7,"mat-row",13),N.Wb()),2&t&&(N.pc("dataSource",e.sharingDataSource)("@animateStagger",N.sc(4,pe)),N.Fb(26),N.pc("matHeaderRowDef",e.displayedColumns),N.Fb(1),N.pc("matRowDefColumns",e.displayedColumns))},directives:[y.j,y.c,y.e,y.b,y.g,y.i,y.d,y.a,E.t,M.a,M.b,l.i,b.b,p.a,g.d,g.a,g.b,y.f,y.h,E.q,$.a],styles:["list-component{display:flex;flex:1 1 auto;width:100%}list-component .mat-table{width:100%;background:transparent;box-shadow:none}list-component .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}list-component .mat-table .mat-column-avatar{flex:0 1 64px}list-component .mat-table .mat-column-buttons{flex:0 1 80px}list-component .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}list-component .mat-table .mat-row .mat-cell{min-width:0}list-component .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){list-component .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:L.a}}),he),ge=function(e){t(i,e);var a=n(i);function i(t){var e;return u(this,i),(e=a.call(this))._sharingDrivers=t,e}return s(i,[{key:"connect",value:function(){return this._sharingDrivers.SharingDriversonChanged}},{key:"disconnect",value:function(){}}]),i}(V.b),ye=["dialogContent"];function ke(t,e){1&t&&N.Sb(0,"mat-header-cell")}function De(t,e){if(1&t&&N.Sb(0,"img",15),2&t){var n=N.jc().$implicit;N.pc("alt",n.name)("src",n.image,N.Dc)}}function Ce(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Lc(1,De,1,2,"img",14),N.Wb()),2&t){var n=e.$implicit;N.Fb(1),N.pc("ngIf",n.image)}}function we(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Name"),N.Wb())}function xe(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.name)}}function We(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Car Type"),N.Wb())}function Xe(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.carType)}}function Re(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Car Name"),N.Wb())}function Se(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.carName)}}function Le(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Register Date"),N.Wb())}function Ne(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.registerDate)}}function _e(t,e){1&t&&(N.Xb(0,"mat-header-cell"),N.Nc(1,"Mobile"),N.Wb())}function qe(t,e){if(1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"p",16),N.Nc(2),N.Wb(),N.Wb()),2&t){var n=e.$implicit;N.Fb(2),N.Oc(n.mobile)}}function Ae(t,e){1&t&&N.Sb(0,"mat-header-cell")}function Oe(t,e){1&t&&(N.Xb(0,"mat-cell"),N.Xb(1,"div",17),N.Xb(2,"a",18),N.Xb(3,"button",19),N.fc("click",function(t){return t.stopPropagation()}),N.Xb(4,"mat-icon",20),N.Nc(5,"info"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb())}function Fe(t,e){1&t&&N.Sb(0,"mat-header-cell")}function Ue(t,e){if(1&t){var n=N.Yb();N.Xb(0,"mat-cell"),N.Xb(1,"div",17),N.Xb(2,"button",21),N.fc("click",function(t){return t.stopPropagation()}),N.Xb(3,"mat-icon",20),N.Nc(4,"more_vert"),N.Wb(),N.Wb(),N.Xb(5,"mat-menu",null,22),N.Xb(7,"button",23),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().deleteContact(t)}),N.Xb(8,"mat-icon"),N.Nc(9,"delete"),N.Wb(),N.Xb(10,"span"),N.Nc(11,"Remove"),N.Wb(),N.Wb(),N.Xb(12,"button",24),N.fc("click",function(){N.Bc(n);var t=e.$implicit;return N.jc().unBlockContact(t)}),N.Xb(13,"mat-icon"),N.Nc(14,"error"),N.Wb(),N.Xb(15,"span"),N.Nc(16,"Un Block"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb()}if(2&t){var a=N.xc(6);N.Fb(2),N.pc("matMenuTriggerFor",a)}}function Te(t,e){1&t&&N.Sb(0,"mat-header-row")}var je=function(t){return{"accent-50":t}},Be=function(){return{y:"100%"}},Me=function(t){return{value:"*",params:t}};function $e(t,e){if(1&t&&N.Sb(0,"mat-row",25),2&t){var n=e.$implicit,a=N.jc();N.pc("ngClass",N.tc(2,je,a.checkboxes[n.id]))("@animate",N.tc(5,Me,N.sc(4,Be)))}}var Pe,Ve,Ie,Ee=function(){return{value:"50"}},He=((Pe=function(){function t(e,n,a){u(this,t),this._blockedDrivers=e,this.apis=n,this._matDialog=a,this.displayedColumns=["image","name","carType","carName","registerDate","mobile","info","buttons"],this._unsubscribeAll=new W.a}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.blockedDataSource=new ze(this._blockedDrivers),this._blockedDrivers.BlcokedDriversonChanged.pipe(Object(X.a)(this._unsubscribeAll)).subscribe(function(e){t.blockedDrivers=e,t.checkboxes={},e.map(function(e){t.checkboxes[e.id]=!1})})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"deleteContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(I.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe(function(n){n&&e._blockedDrivers.deleteContact(t),e.confirmDialogRef=null})}},{key:"unBlockContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(I.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to un block this driver?",this.confirmDialogRef.afterClosed().subscribe(function(n){n&&e.callUnBlockAPi(t),e.confirmDialogRef=null})}},{key:"callUnBlockAPi",value:function(t){this.apis.UnBlockDriver({id:t.id}).subscribe(function(t){},function(t){console.log(t)})}},{key:"onSelectedChange",value:function(t){this._blockedDrivers.toggleSelectedContact(t)}},{key:"toggleStar",value:function(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._blockedDrivers.updateUserData(this.user)}}]),t}()).\u0275fac=function(t){return new(t||Pe)(N.Rb(U),N.Rb(F.a),N.Rb(j.b))},Pe.\u0275cmp=N.Lb({type:Pe,selectors:[["blocked-component"]],viewQuery:function(t,e){var n;1&t&&N.Rc(ye,!0),2&t&&N.wc(n=N.gc())&&(e.dialogContent=n.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","image"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","carType"],["matColumnDef","carName"],["matColumnDef","registerDate"],["matColumnDef","mobile"],["matColumnDef","info"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","blockedDriver",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxFlex","row","fxLayoutAlign","end center"],["routerLink","/views/driverDetails"],["mat-icon-button","","aria-label","More",3,"click"],[1,"secondary-text"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],["mat-menu-item","","aria-label","edit",3,"click"],[1,"blockedDriver",3,"ngClass"]],template:function(t,e){1&t&&(N.Xb(0,"mat-table",0,1),N.Vb(2,2),N.Lc(3,ke,1,0,"mat-header-cell",3),N.Lc(4,Ce,2,1,"mat-cell",4),N.Ub(),N.Vb(5,5),N.Lc(6,we,2,0,"mat-header-cell",3),N.Lc(7,xe,3,1,"mat-cell",4),N.Ub(),N.Vb(8,6),N.Lc(9,We,2,0,"mat-header-cell",3),N.Lc(10,Xe,3,1,"mat-cell",4),N.Ub(),N.Vb(11,7),N.Lc(12,Re,2,0,"mat-header-cell",3),N.Lc(13,Se,3,1,"mat-cell",4),N.Ub(),N.Vb(14,8),N.Lc(15,Le,2,0,"mat-header-cell",3),N.Lc(16,Ne,3,1,"mat-cell",4),N.Ub(),N.Vb(17,9),N.Lc(18,_e,2,0,"mat-header-cell",3),N.Lc(19,qe,3,1,"mat-cell",4),N.Ub(),N.Vb(20,10),N.Lc(21,Ae,1,0,"mat-header-cell",3),N.Lc(22,Oe,6,0,"mat-cell",4),N.Ub(),N.Vb(23,11),N.Lc(24,Fe,1,0,"mat-header-cell",3),N.Lc(25,Ue,17,1,"mat-cell",4),N.Ub(),N.Lc(26,Te,1,0,"mat-header-row",12),N.Lc(27,$e,1,7,"mat-row",13),N.Wb()),2&t&&(N.pc("dataSource",e.blockedDataSource)("@animateStagger",N.sc(4,Ee)),N.Fb(26),N.pc("matHeaderRowDef",e.displayedColumns),N.Fb(1),N.pc("matRowDefColumns",e.displayedColumns))},directives:[y.j,y.c,y.e,y.b,y.g,y.i,y.d,y.a,E.t,M.a,M.b,l.i,b.b,p.a,g.d,g.a,g.b,y.f,y.h,E.q,$.a],styles:["list-component{display:flex;flex:1 1 auto;width:100%}list-component .mat-table{width:100%;background:transparent;box-shadow:none}list-component .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}list-component .mat-table .mat-column-avatar{flex:0 1 64px}list-component .mat-table .mat-column-buttons{flex:0 1 80px}list-component .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}list-component .mat-table .mat-row .mat-cell{min-width:0}list-component .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){list-component .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:L.a}}),Pe),ze=function(e){t(i,e);var a=n(i);function i(t){var e;return u(this,i),(e=a.call(this))._blockedDrivers=t,e}return s(i,[{key:"connect",value:function(){return this._blockedDrivers.BlcokedDriversonChanged}},{key:"disconnect",value:function(){}}]),i}(V.b),Ge=function(){return{delay:"50ms",scale:"0.2"}},Ye=function(t){return{value:"*",params:t}},Qe=function(){return{delay:"100ms",x:"-25px"}},Ke=function(){return{delay:"300ms",scale:".2"}},Je=[{path:"**",component:(Ve=function(){function t(e,n,a){u(this,t),this._contactsService=e,this._fuseSidebarService=n,this._matDialog=a,this.searchInput=new x.e(""),this._unsubscribeAll=new W.a}return s(t,[{key:"ngOnInit",value:function(){var t=this;this._contactsService.onSelectedContactsChanged.pipe(Object(X.a)(this._unsubscribeAll)).subscribe(function(e){t.hasSelectedContacts=e.length>0}),this.searchInput.valueChanges.pipe(Object(X.a)(this._unsubscribeAll),Object(R.a)(300),Object(S.a)()).subscribe(function(e){t._contactsService.onSearchTextChanged.next(e)})}},{key:"ngOnDestroy",value:function(){this._contactsService.onSearchTextChanged.next(""),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleSidebar",value:function(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}}]),t}(),Ve.\u0275fac=function(t){return new(t||Ve)(N.Rb(U),N.Rb(T.a),N.Rb(j.b))},Ve.\u0275cmp=N.Lb({type:Ve,selectors:[["drivers"]],decls:32,vars:13,consts:[["id","contacts",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","accent","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-sm","",1,"sidebar-toggle","mr-12",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","mr-16"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","",1,"ml-sm-32"],[1,"search-wrapper","mt-16","mt-sm-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search",3,"formControl"],[1,"content"],["fusePerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],["dynamicHeight",""],["label","Waiting"],["label","Active"],["label","Sharing"],["label","Blocked"],["mat-fab","","id","add-contact-button","aria-label","add contact",1,"accent"]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"div",1),N.Xb(2,"div",2),N.Xb(3,"button",3),N.fc("click",function(){return e.toggleSidebar("contacts-main-sidebar")}),N.Xb(4,"mat-icon"),N.Nc(5,"menu"),N.Wb(),N.Wb(),N.Xb(6,"div",4),N.Xb(7,"mat-icon",5),N.Nc(8,"account_box "),N.Wb(),N.Xb(9,"span",6),N.Nc(10," Drivers "),N.Wb(),N.Wb(),N.Wb(),N.Xb(11,"div",7),N.Xb(12,"div",8),N.Xb(13,"div",9),N.Xb(14,"mat-icon"),N.Nc(15,"search"),N.Wb(),N.Sb(16,"input",10),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Xb(17,"div",11),N.Xb(18,"div",12),N.Xb(19,"div",11),N.Xb(20,"mat-tab-group",13),N.Xb(21,"mat-tab",14),N.Sb(22,"waiting-component"),N.Wb(),N.Xb(23,"mat-tab",15),N.Sb(24,"list-component"),N.Wb(),N.Xb(25,"mat-tab",16),N.Sb(26,"sharing-component"),N.Wb(),N.Xb(27,"mat-tab",17),N.Sb(28,"blocked-component"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Xb(29,"button",18),N.Xb(30,"mat-icon"),N.Nc(31,"person_add"),N.Wb(),N.Wb()),2&t&&(N.Fb(7),N.pc("@animate",N.tc(5,Ye,N.sc(4,Ge))),N.Fb(2),N.pc("@animate",N.tc(8,Ye,N.sc(7,Qe))),N.Fb(7),N.pc("formControl",e.searchInput),N.Fb(13),N.pc("@animate",N.tc(11,Ye,N.sc(10,Ke))))},directives:[B.a,M.c,M.b,b.b,$.b,p.a,M.a,x.c,x.n,x.f,P.a,D.b,D.a,vt,It,ve,He],styles:["#contacts .header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}#contacts .header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}#contacts .header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}#contacts .content{overflow:hidden}#contacts .content .sidebar:not(.locked-open){background:#fff}contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:L.a}}),Ve),resolve:{contacts:U}}],Ze=((Ie=function t(){u(this,t)}).\u0275mod=N.Pb({type:Ie}),Ie.\u0275inj=N.Ob({factory:function(t){return new(t||Ie)},providers:[U],imports:[[l.j.forChild(Je),b.c,m.b,f.c,h.d,p.b,v.c,g.c,d.p,y.k,k.b,D.c,C.a,w.a,w.f]]}),Ie)},rCGI:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var a=n("tk/3"),i=n("fXoL"),c=function(){var t=function(){function t(e){u(this,t),this.http=e,this.domain="https://dashboard.wingz.app/vt_wingz_v2_web_dashboard_apis/public/api",this.headers=(new a.d).set("Accept","application/json")}return s(t,[{key:"postRequest",value:function(t,e){return this.http.post("".concat(this.domain,"/").concat(t),e,this.headers)}},{key:"getMembers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("members",t)}},{key:"getClubs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("clubs",t)}},{key:"getSchools",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("schools",t)}},{key:"getDrivers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("drivers",t)}},{key:"allowedDriversForAddTrip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("allowedDriversForAddTrip",t)}},{key:"addTrip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("addTrip",t)}},{key:"assignDriversToRequest",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("assignDriversToRequest",t)}},{key:"allowedDriversForAssign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("allowedDriversForAssign?childId=1",t)}},{key:"getMemberDetails",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("memberDetails",t)}},{key:"getCountries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("countries",t)}},{key:"addCountry",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("add-country",t)}},{key:"addClub",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("addClub",t)}},{key:"getBranches",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("branches",t)}},{key:"addBranch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("addBranch",t)}},{key:"editBranch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("editBranch",t)}},{key:"editClub",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("editClub",t)}},{key:"DeleteCountry",value:function(t){return this.postRequest("delete-country",t)}},{key:"addCity",value:function(t){return this.postRequest("add-city",t)}},{key:"addDistrict",value:function(t){return this.postRequest("add-district",t)}},{key:"EditDistricts",value:function(t){return this.postRequest("details-district",t)}},{key:"DeleteDistrict",value:function(t){return this.postRequest("delete-district",t)}},{key:"addRelation",value:function(t){return this.postRequest("add-relation",t)}},{key:"addSlider",value:function(t){return this.postRequest("add-slider",t)}},{key:"EditSlider",value:function(t){return this.postRequest("details-slider",t)}},{key:"DeleteSlider",value:function(t){return this.postRequest("delete-slider",t)}},{key:"addOpenScreen",value:function(t){return this.postRequest("add-open-screen",t)}},{key:"DeleteOpenScreen",value:function(t){return this.postRequest("delete-open-screen",t)}},{key:"EditOpenScreen",value:function(t){return this.postRequest("details-open-screen",t)}},{key:"addSchool",value:function(t){return this.postRequest("add-school",t)}},{key:"DeleteSchool",value:function(t){return this.postRequest("delete-school",t)}},{key:"EditSchool",value:function(t){return this.postRequest("details-school",t)}},{key:"addEducationType",value:function(t){return this.postRequest("add-education-type",t)}},{key:"EditEducationType",value:function(t){return this.postRequest("details-education-type",t)}},{key:"deleteEducationType",value:function(t){return this.postRequest("delete-education-type",t)}},{key:"addEducationLevel",value:function(t){return this.postRequest("add-education-level",t)}},{key:"EditEducationLevel",value:function(t){return this.postRequest("details-education-level",t)}},{key:"deleteEducationLevel",value:function(t){return this.postRequest("delete-education-level",t)}},{key:"addStage",value:function(t){return this.postRequest("add-stage",t)}},{key:"editStage",value:function(t){return this.postRequest("details-stage",t)}},{key:"DeleteStage",value:function(t){return this.postRequest("delete-stage",t)}},{key:"getCarNames",value:function(t){return this.postRequest("car-names",t)}},{key:"addCarName",value:function(t){return this.postRequest("add-car-name",t)}},{key:"EditCarName",value:function(t){return this.postRequest("details-car-name",t)}},{key:"DeleteCarName",value:function(t){return this.postRequest("delete-car-name",t)}},{key:"addCarType",value:function(t){return this.postRequest("add-car-type",t)}},{key:"EditCarType",value:function(t){return this.postRequest("details-car-type",t)}},{key:"DeleteCarType",value:function(t){return this.postRequest("delete-car-type",t)}},{key:"addManufacturingYear",value:function(t){return this.postRequest("add-manufacturing-year",t)}},{key:"EditManufacturingYear",value:function(t){return this.postRequest("details-manufacturing-year",t)}},{key:"DeleteManufacturingYear",value:function(t){return this.postRequest("delete-manufacturing-year",t)}},{key:"EditCity",value:function(t){return this.postRequest("details-city",t)}},{key:"DeleteCity",value:function(t){return this.postRequest("delete-city",t)}},{key:"EditRelation",value:function(t){return this.postRequest("details-relation",t)}},{key:"DeleteRelation",value:function(t){return this.postRequest("delete-relation",t)}},{key:"getVoucherTypes",value:function(t){return this.postRequest("voucher-types",t)}},{key:"DeleteVoucher",value:function(t){return this.postRequest("delete-voucher",t)}},{key:"addNewVoucher",value:function(t){return this.postRequest("add-voucher",t)}},{key:"assignPromoCodeToUsers",value:function(t){return this.postRequest("assign-voucher-to-users",t)}},{key:"EditVoucher",value:function(t){return this.postRequest("details-voucher",t)}},{key:"getEducationTypes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("education-type",t)}},{key:"DeletePlan",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("delete-plan",t)}},{key:"addPlan",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("add-plan",t)}},{key:"EditPlan",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("details-plan",t)}},{key:"driverDetails",value:function(t){return this.postRequest("driver-details",t)}},{key:"BlockDriver",value:function(t){return this.postRequest("block-driver",t)}},{key:"UnBlockDriver",value:function(t){return this.postRequest("unblock-driver",t)}},{key:"activeDriverAccount",value:function(t){return this.postRequest("active-driver",t)}},{key:"activeDrivers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("drivers",t)}},{key:"blockedDrivers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("blocked-drivers",t)}},{key:"waitingDrivers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("waiting-drivers",t)}},{key:"sharingDrivers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.postRequest("sharing-drivers",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.bc(a.b))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();