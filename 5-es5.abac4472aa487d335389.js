!function(){function t(e,a){return(t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(e,a)}function e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var c,o=n(t);if(e){var i=n(this).constructor;c=Reflect.construct(o,arguments,i)}else c=o.apply(this,arguments);return a(this,c)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],n=!0,c=!1,o=void 0;try{for(var i,r=t[Symbol.iterator]();!(n=(i=r.next()).done)&&(a.push(i.value),!e||a.length!==e);n=!0);}catch(l){c=!0,o=l}finally{try{n||null==r.return||r.return()}finally{if(c)throw o}}return a}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,a){return e&&l(t.prototype,e),a&&l(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{vRcw:function(a,n,i){"use strict";i.r(n),i.d(n,"DriversModule",function(){return It});var l=i("tyNb"),b=i("bTqV"),u=i("bSwM"),m=i("FKr1"),f=i("iadO"),d=i("kmnG"),h=i("NFeN"),p=i("qFsG"),g=i("STbY"),v=i("+0xr"),x=i("/t3+"),y=i("wZkO"),C=i("5HBU"),w=i("LPQX"),X=i("3Pt+"),W=i("XNiG"),S=i("1G5W"),k=i("Kj3r"),N=i("/uUt"),_=i("PVWW"),D=i("0IaG"),L=i("LeJU"),F=i("fXoL"),A=i("XiUz"),j=i("EwFO"),O=i("ofXK");function R(t,e){if(1&t){var a=F.Yb();F.Xb(0,"button",29),F.fc("click",function(){F.Bc(a);var t=F.jc();return t.matDialogRef.close(["delete",t.contactForm])}),F.Nc(1," DELETE "),F.Wb()}}function I(t,e){if(1&t){var a=F.Yb();F.Xb(0,"button",30),F.fc("click",function(){F.Bc(a);var t=F.jc();return t.matDialogRef.close(t.contactForm)}),F.Nc(1," ADD "),F.Wb()}if(2&t){var n=F.jc();F.pc("disabled",n.contactForm.invalid)}}function T(t,e){if(1&t){var a=F.Yb();F.Xb(0,"button",30),F.fc("click",function(){F.Bc(a);var t=F.jc();return t.matDialogRef.close(["save",t.contactForm])}),F.Nc(1," SAVE "),F.Wb()}if(2&t){var n=F.jc();F.pc("disabled",n.contactForm.invalid)}}var P,U,M=((P=function(){function t(e,a,n){r(this,t),this.matDialogRef=e,this._data=a,this._formBuilder=n,this.action=a.action,"details"===this.action?(this.dialogTitle="Edit Contact",this.contact=a.contact):(this.dialogTitle="New Contact",this.contact=new L.a({})),this.contactForm=this.createContactForm()}return s(t,[{key:"createContactForm",value:function(){return this._formBuilder.group({id:[this.contact.id],name:[this.contact.name],lastName:[this.contact.lastName],avatar:[this.contact.avatar],nickname:[this.contact.nickname],company:[this.contact.company],jobTitle:[this.contact.jobTitle],email:[this.contact.email],phone:[this.contact.phone],address:[this.contact.address],birthday:[this.contact.birthday],notes:[this.contact.notes]})}}]),t}()).\u0275fac=function(t){return new(t||P)(F.Rb(D.f),F.Rb(D.a),F.Rb(X.d))},P.\u0275cmp=F.Lb({type:P,selectors:[["contacts-contact-form-dialog"]],decls:87,vars:11,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","",1,"mat-accent","m-0"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom","py-16"],[1,"avatar","contact-avatar","huge","m-0",3,"src","alt"],[1,"contact-name","mt-8"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","pb-0","m-0"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","start start"],["appearance","outline","fxFlex",""],["matSuffix","",1,"secondary-text"],["name","name","formControlName","name","matInput","","required",""],["name","lastName","formControlName","lastName","matInput",""],["name","nickname","formControlName","nickname","matInput",""],["formControlName","phone","matInput",""],["name","email","formControlName","email","matInput","","type","email"],["name","company","formControlName","company","matInput",""],["name","jobTitle","formControlName","jobTitle","matInput",""],["matInput","","name","birthday","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthdayDatePicker",""],["name","address","formControlName","address","matInput",""],["fxLayout","row","fxLayoutAlign","start start",1,"textarea-wrapper"],["name","notes","formControlName","notes","matInput","","type","text","max-rows","4"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center",1,"m-0","p-16"],["mat-button","","class","mr-8","aria-label","Delete","matTooltip","Delete",3,"click",4,"ngIf"],["mat-button","","class","save-button","aria-label","SAVE",3,"disabled","click",4,"ngIf"],["mat-button","","aria-label","Delete","matTooltip","Delete",1,"mr-8",3,"click"],["mat-button","","aria-label","SAVE",1,"save-button",3,"disabled","click"]],template:function(t,e){if(1&t&&(F.Xb(0,"div",0),F.Xb(1,"mat-toolbar",1),F.Xb(2,"mat-toolbar-row",2),F.Xb(3,"span",3),F.Nc(4),F.Wb(),F.Xb(5,"button",4),F.fc("click",function(){return e.matDialogRef.close()}),F.Xb(6,"mat-icon"),F.Nc(7,"close"),F.Wb(),F.Wb(),F.Wb(),F.Xb(8,"mat-toolbar-row",5),F.Sb(9,"img",6),F.Xb(10,"div",7),F.Nc(11),F.Wb(),F.Wb(),F.Wb(),F.Xb(12,"div",8),F.Xb(13,"form",9),F.Xb(14,"div",10),F.Xb(15,"mat-form-field",11),F.Xb(16,"mat-label"),F.Nc(17,"Name"),F.Wb(),F.Xb(18,"mat-icon",12),F.Nc(19,"account_circle"),F.Wb(),F.Sb(20,"input",13),F.Wb(),F.Wb(),F.Xb(21,"div",10),F.Xb(22,"mat-form-field",11),F.Xb(23,"mat-label"),F.Nc(24,"Lastname"),F.Wb(),F.Xb(25,"mat-icon",12),F.Nc(26,"account_circle"),F.Wb(),F.Sb(27,"input",14),F.Wb(),F.Wb(),F.Xb(28,"div",10),F.Xb(29,"mat-form-field",11),F.Xb(30,"mat-label"),F.Nc(31,"Nickname"),F.Wb(),F.Xb(32,"mat-icon",12),F.Nc(33,"star"),F.Wb(),F.Sb(34,"input",15),F.Wb(),F.Wb(),F.Xb(35,"div",10),F.Xb(36,"mat-form-field",11),F.Xb(37,"mat-label"),F.Nc(38,"Phone number"),F.Wb(),F.Xb(39,"mat-icon",12),F.Nc(40,"phone"),F.Wb(),F.Sb(41,"input",16),F.Wb(),F.Wb(),F.Xb(42,"div",10),F.Xb(43,"mat-form-field",11),F.Xb(44,"mat-label"),F.Nc(45,"Email"),F.Wb(),F.Xb(46,"mat-icon",12),F.Nc(47,"email"),F.Wb(),F.Sb(48,"input",17),F.Wb(),F.Wb(),F.Xb(49,"div",10),F.Xb(50,"mat-form-field",11),F.Xb(51,"mat-label"),F.Nc(52,"Company"),F.Wb(),F.Xb(53,"mat-icon",12),F.Nc(54,"domain"),F.Wb(),F.Sb(55,"input",18),F.Wb(),F.Wb(),F.Xb(56,"div",10),F.Xb(57,"mat-form-field",11),F.Xb(58,"mat-label"),F.Nc(59,"Job title"),F.Wb(),F.Xb(60,"mat-icon",12),F.Nc(61,"work"),F.Wb(),F.Sb(62,"input",19),F.Wb(),F.Wb(),F.Xb(63,"div",10),F.Xb(64,"mat-form-field",11),F.Xb(65,"mat-label"),F.Nc(66,"Birthday"),F.Wb(),F.Sb(67,"input",20),F.Sb(68,"mat-datepicker-toggle",21),F.Sb(69,"mat-datepicker",null,22),F.Wb(),F.Wb(),F.Xb(71,"div",10),F.Xb(72,"mat-form-field",11),F.Xb(73,"mat-label"),F.Nc(74,"Address"),F.Wb(),F.Xb(75,"mat-icon",12),F.Nc(76,"home"),F.Wb(),F.Sb(77,"input",23),F.Wb(),F.Wb(),F.Xb(78,"div",24),F.Xb(79,"mat-form-field",11),F.Xb(80,"mat-label"),F.Nc(81,"Notes"),F.Wb(),F.Sb(82,"textarea",25),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(83,"div",26),F.Lc(84,R,2,0,"button",27),F.Lc(85,I,2,1,"button",28),F.Lc(86,T,2,1,"button",28),F.Wb(),F.Wb()),2&t){var a=F.xc(70);F.Fb(4),F.Oc(e.dialogTitle),F.Fb(5),F.pc("src",e.contact.avatar,F.Dc)("alt",e.contact.name),F.Fb(2),F.Qc("",e.contact.name," ",e.contact.lastName,""),F.Fb(2),F.pc("formGroup",e.contactForm),F.Fb(54),F.pc("matDatepicker",a),F.Fb(1),F.pc("for",a),F.Fb(16),F.pc("ngIf","details"===e.action),F.Fb(1),F.pc("ngIf","details"!==e.action),F.Fb(1),F.pc("ngIf","details"===e.action)}},directives:[x.a,x.c,A.c,A.b,b.b,h.a,j.a,X.u,X.o,X.i,d.b,A.a,d.e,d.f,X.c,p.b,X.n,X.g,X.s,f.b,f.d,f.a,O.t],styles:["@media screen and (max-width:599px){.contact-form-dialog{width:100%}}@media screen and (min-width:600px){.contact-form-dialog{width:400px}}.contact-form-dialog .mat-dialog-container{padding:0}.contact-form-dialog .mat-dialog-container .mat-toolbar{flex:1 0 auto;min-height:0}.contact-form-dialog .mat-dialog-container .toolbar-bottom{height:auto}.contact-form-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}"],encapsulation:2}),P),H=i("2Vo4"),B=i("jD4G"),E=function t(e){r(this,t),this.id=e.id||B.a.generateGUID(),this.name=e.name||"",this.lastName=e.lastName||"",this.avatar=e.avatar||"assets/images/avatars/profile.jpg",this.nickname=e.nickname||"",this.company=e.company||"",this.jobTitle=e.jobTitle||"",this.email=e.email||"",this.phone=e.phone||"",this.address=e.address||"",this.birthday=e.birthday||"",this.notes=e.notes||""},V=i("tk/3"),$=((U=function(){function t(e){r(this,t),this._httpClient=e,this.selectedContacts=[],this.onContactsChanged=new H.a([]),this.onSelectedContactsChanged=new H.a([]),this.onUserDataChanged=new H.a([]),this.onSearchTextChanged=new W.a,this.onFilterChanged=new W.a}return s(t,[{key:"resolve",value:function(t,e){var a=this;return new Promise(function(t,e){Promise.all([a.getContacts(),a.getUserData()]).then(function(e){c(e,1)[0],a.onSearchTextChanged.subscribe(function(t){a.searchText=t,a.getContacts()}),a.onFilterChanged.subscribe(function(t){a.filterBy=t,a.getContacts()}),t()},e)})}},{key:"getContacts",value:function(){var t=this;return new Promise(function(e,a){t._httpClient.get("api/contacts-contacts").subscribe(function(a){t.contacts=a,"starred"===t.filterBy&&(t.contacts=t.contacts.filter(function(e){return t.user.starred.includes(e.id)})),"frequent"===t.filterBy&&(t.contacts=t.contacts.filter(function(e){return t.user.frequentContacts.includes(e.id)})),t.searchText&&""!==t.searchText&&(t.contacts=B.a.filterArrayByString(t.contacts,t.searchText)),t.contacts=t.contacts.map(function(t){return new E(t)}),t.onContactsChanged.next(t.contacts),e(t.contacts)},a)})}},{key:"getUserData",value:function(){var t=this;return new Promise(function(e,a){t._httpClient.get("api/contacts-user/5725a6802d10e277a0f35724").subscribe(function(a){t.user=a,t.onUserDataChanged.next(t.user),e(t.user)},a)})}},{key:"toggleSelectedContact",value:function(t){if(this.selectedContacts.length>0){var e=this.selectedContacts.indexOf(t);if(-1!==e)return this.selectedContacts.splice(e,1),void this.onSelectedContactsChanged.next(this.selectedContacts)}this.selectedContacts.push(t),this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"toggleSelectAll",value:function(){this.selectedContacts.length>0?this.deselectContacts():this.selectContacts()}},{key:"selectContacts",value:function(t,e){var a=this;this.selectedContacts=[],void 0!==t&&void 0!==e||(this.selectedContacts=[],this.contacts.map(function(t){a.selectedContacts.push(t.id)})),this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"updateContact",value:function(t){var e=this;return new Promise(function(a,n){e._httpClient.post("api/contacts-contacts/"+t.id,Object.assign({},t)).subscribe(function(t){e.getContacts(),a(t)})})}},{key:"updateUserData",value:function(t){var e=this;return new Promise(function(a,n){e._httpClient.post("api/contacts-user/"+e.user.id,Object.assign({},t)).subscribe(function(t){e.getUserData(),e.getContacts(),a(t)})})}},{key:"deselectContacts",value:function(){this.selectedContacts=[],this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"deleteContact",value:function(t){var e=this.contacts.indexOf(t);this.contacts.splice(e,1),this.onContactsChanged.next(this.contacts)}},{key:"deleteSelectedContacts",value:function(){var t,e=this,a=function(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=o(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,c=function(){};return{s:c,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,l=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){l=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(l)throw i}}}}(this.selectedContacts);try{var n=function(){var a=t.value,n=e.contacts.find(function(t){return t.id===a}),c=e.contacts.indexOf(n);e.contacts.splice(c,1)};for(a.s();!(t=a.n()).done;)n()}catch(c){a.e(c)}finally{a.f()}this.onContactsChanged.next(this.contacts),this.deselectContacts()}}]),t}()).\u0275fac=function(t){return new(t||U)(F.bc(V.b))},U.\u0275prov=F.Nb({token:U,factory:U.\u0275fac}),U),G=i("HX77"),q=i("B9zo"),Y=i("znSr"),z=i("0EQZ"),J=i("2nsM"),Q=["dialogContent"];function K(t,e){1&t&&F.Sb(0,"mat-header-cell")}function Z(t,e){if(1&t){var a=F.Yb();F.Xb(0,"mat-cell"),F.Xb(1,"mat-checkbox",20),F.fc("ngModelChange",function(t){F.Bc(a);var n=e.$implicit;return F.jc().checkboxes[n.id]=t})("ngModelChange",function(){F.Bc(a);var t=e.$implicit;return F.jc().onSelectedChange(t.id)})("click",function(t){return t.stopPropagation()}),F.Wb(),F.Wb()}if(2&t){var n=e.$implicit,c=F.jc();F.Fb(1),F.pc("ngModel",c.checkboxes[n.id])}}function tt(t,e){1&t&&F.Sb(0,"mat-header-cell")}function et(t,e){if(1&t&&F.Sb(0,"img",22),2&t){var a=F.jc().$implicit;F.pc("alt",a.name)("src",a.avatar,F.Dc)}}function at(t,e){if(1&t&&(F.Xb(0,"mat-cell"),F.Lc(1,et,1,2,"img",21),F.Wb()),2&t){var a=e.$implicit;F.Fb(1),F.pc("ngIf",a.avatar)}}function nt(t,e){1&t&&(F.Xb(0,"mat-header-cell"),F.Nc(1,"Name"),F.Wb())}function ct(t,e){if(1&t&&(F.Xb(0,"mat-cell"),F.Xb(1,"p",23),F.Nc(2),F.Wb(),F.Wb()),2&t){var a=e.$implicit;F.Fb(2),F.Qc("",a.name," ",a.lastName,"")}}function ot(t,e){1&t&&(F.Xb(0,"mat-header-cell",24),F.Nc(1,"Email"),F.Wb())}function it(t,e){if(1&t&&(F.Xb(0,"mat-cell",24),F.Xb(1,"p",25),F.Nc(2),F.Wb(),F.Wb()),2&t){var a=e.$implicit;F.Fb(2),F.Pc(" ",a.email," ")}}function rt(t,e){1&t&&(F.Xb(0,"mat-header-cell",26),F.Nc(1,"Phone"),F.Wb())}function lt(t,e){if(1&t&&(F.Xb(0,"mat-cell",26),F.Xb(1,"p",27),F.Nc(2),F.Wb(),F.Wb()),2&t){var a=e.$implicit;F.Fb(2),F.Pc(" ",a.phone," ")}}function st(t,e){1&t&&(F.Xb(0,"mat-header-cell",28),F.Nc(1,"Job title"),F.Wb())}function bt(t,e){if(1&t&&(F.Xb(0,"mat-cell",28),F.Xb(1,"p",29),F.Nc(2),F.Wb(),F.Wb()),2&t){var a=e.$implicit;F.Fb(2),F.Pc(" ",a.jobTitle," ")}}function ut(t,e){1&t&&(F.Xb(0,"mat-header-cell",28),F.Nc(1,"Company"),F.Wb())}function mt(t,e){if(1&t&&(F.Xb(0,"mat-cell",28),F.Xb(1,"p",30),F.Nc(2),F.Wb(),F.Wb()),2&t){var a=e.$implicit;F.Fb(2),F.Pc(" ",a.company," ")}}function ft(t,e){1&t&&F.Sb(0,"mat-header-cell")}function dt(t,e){1&t&&(F.Xb(0,"mat-icon",39),F.Nc(1,"star"),F.Wb())}function ht(t,e){1&t&&(F.Xb(0,"mat-icon",36),F.Nc(1,"star_border"),F.Wb())}function pt(t,e){if(1&t){var a=F.Yb();F.Xb(0,"mat-cell"),F.Xb(1,"div",31),F.Xb(2,"button",32),F.fc("click",function(t){F.Bc(a);var n=e.$implicit,c=F.jc();return t.stopPropagation(),c.toggleStar(n.id)}),F.Lc(3,dt,2,0,"mat-icon",33),F.Lc(4,ht,2,0,"mat-icon",34),F.Wb(),F.Xb(5,"button",35),F.fc("click",function(t){return t.stopPropagation()}),F.Xb(6,"mat-icon",36),F.Nc(7,"more_vert"),F.Wb(),F.Wb(),F.Xb(8,"mat-menu",null,37),F.Xb(10,"button",38),F.fc("click",function(){F.Bc(a);var t=e.$implicit;return F.jc().deleteContact(t)}),F.Xb(11,"mat-icon"),F.Nc(12,"delete"),F.Wb(),F.Xb(13,"span"),F.Nc(14,"Remove"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()}if(2&t){var n=e.$implicit,c=F.xc(9),o=F.jc();F.Fb(3),F.pc("ngIf",o.user.starred.includes(n.id)),F.Fb(1),F.pc("ngIf",!o.user.starred.includes(n.id)),F.Fb(1),F.pc("matMenuTriggerFor",c)}}function gt(t,e){1&t&&F.Sb(0,"mat-header-row")}var vt=function(t){return{"accent-50":t}},xt=function(){return{y:"100%"}},yt=function(t){return{value:"*",params:t}};function Ct(t,e){if(1&t){var a=F.Yb();F.Xb(0,"mat-row",40),F.fc("click",function(){F.Bc(a);var t=e.$implicit;return F.jc().editContact(t)}),F.Wb()}if(2&t){var n=e.$implicit,c=F.jc();F.pc("ngClass",F.tc(2,vt,c.checkboxes[n.id]))("@animate",F.tc(5,yt,F.sc(4,xt)))}}var wt,Xt,Wt=function(){return{value:"50"}},St=((wt=function(){function t(e,a){r(this,t),this._contactsService=e,this._matDialog=a,this.displayedColumns=["checkbox","avatar","name","email","phone","jobTitle","buttons"],this._unsubscribeAll=new W.a}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.dataSource=new kt(this._contactsService),this._contactsService.onContactsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(function(e){t.contacts=e,t.checkboxes={},e.map(function(e){t.checkboxes[e.id]=!1})}),this._contactsService.onSelectedContactsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(function(e){for(var a in t.checkboxes)t.checkboxes.hasOwnProperty(a)&&(t.checkboxes[a]=e.includes(a));t.selectedContacts=e}),this._contactsService.onUserDataChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(function(e){t.user=e}),this._contactsService.onFilterChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(function(){t._contactsService.deselectContacts()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"editContact",value:function(t){var e=this;this.dialogRef=this._matDialog.open(M,{panelClass:"contact-form-dialog",data:{contact:t,action:"details"}}),this.dialogRef.afterClosed().subscribe(function(a){if(a){var n=a[1];switch(a[0]){case"save":e._contactsService.updateContact(n.getRawValue());break;case"delete":e.deleteContact(t)}}})}},{key:"deleteContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(J.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe(function(a){a&&e._contactsService.deleteContact(t),e.confirmDialogRef=null})}},{key:"onSelectedChange",value:function(t){this._contactsService.toggleSelectedContact(t)}},{key:"toggleStar",value:function(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._contactsService.updateUserData(this.user)}}]),t}()).\u0275fac=function(t){return new(t||wt)(F.Rb($),F.Rb(D.b))},wt.\u0275cmp=F.Lb({type:wt,selectors:[["contacts-contact-list"]],viewQuery:function(t,e){var a;1&t&&F.Rc(Q,!0),2&t&&F.wc(a=F.gc())&&(e.dialogContent=a.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","checkbox"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","name"],["matColumnDef","email"],["fxHide","","fxShow.gt-sm","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","",4,"matCellDef"],["matColumnDef","phone"],["fxHide","","fxShow.gt-md","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-md","",4,"matCellDef"],["matColumnDef","jobTitle"],["fxHide","","fxShow.gt-lg","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-lg","",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","contact",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"ngModel","ngModelChange","click"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxHide","","fxShow.gt-sm",""],[1,"email","text-truncate"],["fxHide","","fxShow.gt-md",""],[1,"phone","text-truncate"],["fxHide","","fxShow.gt-lg",""],[1,"job-title","text-truncate"],[1,"company","text-truncate"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"amber-fg"],[1,"contact",3,"ngClass","click"]],template:function(t,e){1&t&&(F.Xb(0,"mat-table",0,1),F.Vb(2,2),F.Lc(3,K,1,0,"mat-header-cell",3),F.Lc(4,Z,2,1,"mat-cell",4),F.Ub(),F.Vb(5,5),F.Lc(6,tt,1,0,"mat-header-cell",3),F.Lc(7,at,2,1,"mat-cell",4),F.Ub(),F.Vb(8,6),F.Lc(9,nt,2,0,"mat-header-cell",3),F.Lc(10,ct,3,2,"mat-cell",4),F.Ub(),F.Vb(11,7),F.Lc(12,ot,2,0,"mat-header-cell",8),F.Lc(13,it,3,1,"mat-cell",9),F.Ub(),F.Vb(14,10),F.Lc(15,rt,2,0,"mat-header-cell",11),F.Lc(16,lt,3,1,"mat-cell",12),F.Ub(),F.Vb(17,13),F.Lc(18,st,2,0,"mat-header-cell",14),F.Lc(19,bt,3,1,"mat-cell",15),F.Ub(),F.Vb(20,16),F.Lc(21,ut,2,0,"mat-header-cell",14),F.Lc(22,mt,3,1,"mat-cell",15),F.Ub(),F.Vb(23,17),F.Lc(24,ft,1,0,"mat-header-cell",3),F.Lc(25,pt,15,3,"mat-cell",4),F.Ub(),F.Lc(26,gt,1,0,"mat-header-row",18),F.Lc(27,Ct,1,7,"mat-row",19),F.Wb()),2&t&&(F.pc("dataSource",e.dataSource)("@animateStagger",F.sc(4,Wt)),F.Fb(26),F.pc("matHeaderRowDef",e.displayedColumns),F.Fb(1),F.pc("matRowDefColumns",e.displayedColumns))},directives:[v.j,v.c,v.e,v.b,v.g,v.i,v.d,v.a,u.a,X.n,X.q,O.t,Y.b,A.a,A.b,b.b,g.d,h.a,g.a,g.b,v.f,v.h,O.q,Y.a],styles:["contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:_.a}}),wt),kt=function(a){!function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&t(e,a)}(c,a);var n=e(c);function c(t){var e;return r(this,c),(e=n.call(this))._contactsService=t,e}return s(c,[{key:"connect",value:function(){return this._contactsService.onContactsChanged}},{key:"disconnect",value:function(){}}]),c}(z.b),Nt=((Xt=function(){function t(e,a){r(this,t),this._contactsService=e,this._matDialog=a,this._unsubscribeAll=new W.a}return s(t,[{key:"ngOnInit",value:function(){var t=this;this._contactsService.onSelectedContactsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(function(e){t.selectedContacts=e,setTimeout(function(){t.hasSelectedContacts=e.length>0,t.isIndeterminate=e.length!==t._contactsService.contacts.length&&e.length>0},0)})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"selectAll",value:function(){this._contactsService.selectContacts()}},{key:"deselectAll",value:function(){this._contactsService.deselectContacts()}},{key:"deleteSelectedContacts",value:function(){var t=this;this.confirmDialogRef=this._matDialog.open(J.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete all selected contacts?",this.confirmDialogRef.afterClosed().subscribe(function(e){e&&t._contactsService.deleteSelectedContacts(),t.confirmDialogRef=null})}}]),t}()).\u0275fac=function(t){return new(t||Xt)(F.Rb($),F.Rb(D.b))},Xt.\u0275cmp=F.Lb({type:Xt,selectors:[["selected-bar"]],decls:27,vars:2,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"p-24"],["fxFlex","0 1 auto","fxFlex.gt-sm","220px",1,"close-button-wrapper",3,"click"],["mat-button","","fxLayout","row","fxLayoutAlign","start center",1,"p-8"],[1,"mr-8"],[1,"text-uppercase"],["fxFlex","","fxLayout","row","fxLayoutAlign","end center","fxLayoutAlign.gt-sm","space-between center"],[1,"selected-contacts-count"],[1,"mr-4"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"multi-select-actions"],["mat-icon-button","","aria-label","delete selected",3,"click"]],template:function(t,e){if(1&t&&(F.Xb(0,"div",0),F.Xb(1,"div",1),F.fc("click",function(){return e.deselectAll()}),F.Xb(2,"button",2),F.Xb(3,"mat-icon",3),F.Nc(4,"arrow_back"),F.Wb(),F.Xb(5,"span",4),F.Nc(6,"Back"),F.Wb(),F.Wb(),F.Wb(),F.Xb(7,"div",5),F.Xb(8,"div"),F.Xb(9,"span",6),F.Xb(10,"span",7),F.Nc(11),F.Wb(),F.Xb(12,"span"),F.Nc(13,"selected"),F.Wb(),F.Wb(),F.Xb(14,"button",8),F.Xb(15,"mat-icon"),F.Nc(16,"arrow_drop_down"),F.Wb(),F.Wb(),F.Xb(17,"mat-menu",null,9),F.Xb(19,"button",10),F.fc("click",function(){return e.selectAll()}),F.Nc(20,"Select all"),F.Wb(),F.Xb(21,"button",10),F.fc("click",function(){return e.deselectAll()}),F.Nc(22,"Deselect all"),F.Wb(),F.Wb(),F.Wb(),F.Xb(23,"div",11),F.Xb(24,"button",12),F.fc("click",function(){return e.deleteSelectedContacts()}),F.Xb(25,"mat-icon"),F.Nc(26,"delete"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t){var a=F.xc(18);F.Fb(11),F.Oc(e.selectedContacts.length),F.Fb(3),F.pc("matMenuTriggerFor",a)}},directives:[A.a,A.c,A.b,b.b,h.a,g.d,g.a,g.b],styles:["[_nghost-%COMP%]{flex:1;position:absolute;top:0;right:0;left:0;height:120px;z-index:99}"]}),Xt);function _t(t,e){1&t&&F.Sb(0,"selected-bar",18),2&t&&F.pc("@slideInTop",void 0)}var Dt,Lt,Ft=function(){return{delay:"50ms",scale:"0.2"}},At=function(t){return{value:"*",params:t}},jt=function(){return{delay:"100ms",x:"-25px"}},Ot=function(){return{delay:"300ms",scale:".2"}},Rt=[{path:"**",component:(Dt=function(){function t(e,a,n){r(this,t),this._contactsService=e,this._fuseSidebarService=a,this._matDialog=n,this.searchInput=new X.e(""),this._unsubscribeAll=new W.a}return s(t,[{key:"ngOnInit",value:function(){var t=this;this._contactsService.onSelectedContactsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(function(e){t.hasSelectedContacts=e.length>0}),this.searchInput.valueChanges.pipe(Object(S.a)(this._unsubscribeAll),Object(k.a)(300),Object(N.a)()).subscribe(function(e){t._contactsService.onSearchTextChanged.next(e)})}},{key:"ngOnDestroy",value:function(){this._contactsService.onSearchTextChanged.next(""),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"newContact",value:function(){var t=this;this.dialogRef=this._matDialog.open(M,{panelClass:"contact-form-dialog",data:{action:"new"}}),this.dialogRef.afterClosed().subscribe(function(e){e&&t._contactsService.updateContact(e.getRawValue())})}},{key:"toggleSidebar",value:function(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}}]),t}(),Dt.\u0275fac=function(t){return new(t||Dt)(F.Rb($),F.Rb(G.a),F.Rb(D.b))},Dt.\u0275cmp=F.Lb({type:Dt,selectors:[["drivers"]],decls:29,vars:14,consts:[["id","contacts",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","accent","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-sm","",1,"sidebar-toggle","mr-12",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","mr-16"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","",1,"ml-sm-32"],[1,"search-wrapper","mt-16","mt-sm-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a contact",3,"formControl"],["class","accent-600",4,"ngIf"],[1,"content"],["fusePerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],["dynamicHeight",""],["label","Active Trips"],["label","Closed Trips"],["mat-fab","","id","add-contact-button","aria-label","add contact",1,"accent",3,"click"],[1,"accent-600"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"div",1),F.Xb(2,"div",2),F.Xb(3,"button",3),F.fc("click",function(){return e.toggleSidebar("contacts-main-sidebar")}),F.Xb(4,"mat-icon"),F.Nc(5,"menu"),F.Wb(),F.Wb(),F.Xb(6,"div",4),F.Xb(7,"mat-icon",5),F.Nc(8,"account_box "),F.Wb(),F.Xb(9,"span",6),F.Nc(10," Drivers "),F.Wb(),F.Wb(),F.Wb(),F.Xb(11,"div",7),F.Xb(12,"div",8),F.Xb(13,"div",9),F.Xb(14,"mat-icon"),F.Nc(15,"search"),F.Wb(),F.Sb(16,"input",10),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Lc(17,_t,1,1,"selected-bar",11),F.Xb(18,"div",12),F.Xb(19,"div",13),F.Xb(20,"div",12),F.Xb(21,"mat-tab-group",14),F.Xb(22,"mat-tab",15),F.Sb(23,"contacts-contact-list"),F.Wb(),F.Xb(24,"mat-tab",16),F.Sb(25,"contacts-contact-list"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(26,"button",17),F.fc("click",function(){return e.newContact()}),F.Xb(27,"mat-icon"),F.Nc(28,"person_add"),F.Wb(),F.Wb()),2&t&&(F.Fb(7),F.pc("@animate",F.tc(6,At,F.sc(5,Ft))),F.Fb(2),F.pc("@animate",F.tc(9,At,F.sc(8,jt))),F.Fb(7),F.pc("formControl",e.searchInput),F.Fb(1),F.pc("ngIf",e.hasSelectedContacts),F.Fb(9),F.pc("@animate",F.tc(12,At,F.sc(11,Ot))))},directives:[q.a,A.c,A.b,b.b,Y.b,h.a,A.a,X.c,X.n,X.f,O.t,j.a,y.b,y.a,St,Nt],styles:["#contacts .header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}#contacts .header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}#contacts .header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}#contacts .content{overflow:hidden}#contacts .content .sidebar:not(.locked-open){background:#fff}contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:_.a}}),Dt),resolve:{contacts:$}}],It=((Lt=function t(){r(this,t)}).\u0275mod=F.Pb({type:Lt}),Lt.\u0275inj=F.Ob({factory:function(t){return new(t||Lt)},providers:[$],imports:[[l.j.forChild(Rt),b.c,u.b,f.c,d.d,h.b,p.c,g.c,m.p,v.k,x.b,y.c,C.a,w.a,w.f]]}),Lt)}}])}();