(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{Jnpk:function(t,e,a){"use strict";a.r(e),a.d(e,"ParentsModule",function(){return St});var c=a("tyNb"),n=a("bTqV"),o=a("bSwM"),i=a("FKr1"),s=a("iadO"),l=a("kmnG"),r=a("NFeN"),b=a("qFsG"),m=a("STbY"),d=a("+0xr"),u=a("/t3+"),h=a("wZkO"),f=a("5HBU"),p=a("LPQX"),g=a("2Vo4"),x=a("XNiG"),C=a("jD4G");class w{constructor(t){this.id=t.id||C.a.generateGUID(),this.name=t.name||"",this.lastName=t.lastName||"",this.avatar=t.avatar||"assets/images/avatars/profile.jpg",this.nickname=t.nickname||"",this.company=t.company||"",this.jobTitle=t.jobTitle||"",this.email=t.email||"",this.phone=t.phone||"",this.address=t.address||"",this.birthday=t.birthday||"",this.notes=t.notes||""}}var X=a("fXoL"),W=a("tk/3");let v=(()=>{class t{constructor(t){this._httpClient=t,this.selectedContacts=[],this.onContactsChanged=new g.a([]),this.onSelectedContactsChanged=new g.a([]),this.onUserDataChanged=new g.a([]),this.onSearchTextChanged=new x.a,this.onFilterChanged=new x.a}resolve(t,e){return new Promise((t,e)=>{Promise.all([this.getContacts(),this.getUserData()]).then(([e])=>{this.onSearchTextChanged.subscribe(t=>{this.searchText=t,this.getContacts()}),this.onFilterChanged.subscribe(t=>{this.filterBy=t,this.getContacts()}),t()},e)})}getContacts(){return new Promise((t,e)=>{this._httpClient.get("api/contacts-contacts").subscribe(e=>{this.contacts=e,"starred"===this.filterBy&&(this.contacts=this.contacts.filter(t=>this.user.starred.includes(t.id))),"frequent"===this.filterBy&&(this.contacts=this.contacts.filter(t=>this.user.frequentContacts.includes(t.id))),this.searchText&&""!==this.searchText&&(this.contacts=C.a.filterArrayByString(this.contacts,this.searchText)),this.contacts=this.contacts.map(t=>new w(t)),this.onContactsChanged.next(this.contacts),t(this.contacts)},e)})}getUserData(){return new Promise((t,e)=>{this._httpClient.get("api/contacts-user/5725a6802d10e277a0f35724").subscribe(e=>{this.user=e,this.onUserDataChanged.next(this.user),t(this.user)},e)})}toggleSelectedContact(t){if(this.selectedContacts.length>0){const e=this.selectedContacts.indexOf(t);if(-1!==e)return this.selectedContacts.splice(e,1),void this.onSelectedContactsChanged.next(this.selectedContacts)}this.selectedContacts.push(t),this.onSelectedContactsChanged.next(this.selectedContacts)}toggleSelectAll(){this.selectedContacts.length>0?this.deselectContacts():this.selectContacts()}selectContacts(t,e){this.selectedContacts=[],void 0!==t&&void 0!==e||(this.selectedContacts=[],this.contacts.map(t=>{this.selectedContacts.push(t.id)})),this.onSelectedContactsChanged.next(this.selectedContacts)}updateContact(t){return new Promise((e,a)=>{this._httpClient.post("api/contacts-contacts/"+t.id,Object.assign({},t)).subscribe(t=>{this.getContacts(),e(t)})})}updateUserData(t){return new Promise((e,a)=>{this._httpClient.post("api/contacts-user/"+this.user.id,Object.assign({},t)).subscribe(t=>{this.getUserData(),this.getContacts(),e(t)})})}deselectContacts(){this.selectedContacts=[],this.onSelectedContactsChanged.next(this.selectedContacts)}deleteContact(t){const e=this.contacts.indexOf(t);this.contacts.splice(e,1),this.onContactsChanged.next(this.contacts)}deleteSelectedContacts(){for(const t of this.selectedContacts){const e=this.contacts.find(e=>e.id===t),a=this.contacts.indexOf(e);this.contacts.splice(a,1)}this.onContactsChanged.next(this.contacts),this.deselectContacts()}}return t.\u0275fac=function(e){return new(e||t)(X.bc(W.b))},t.\u0275prov=X.Nb({token:t,factory:t.\u0275fac}),t})();var S=a("3Pt+"),y=a("1G5W"),N=a("Kj3r"),k=a("/uUt"),D=a("PVWW"),_=a("0IaG"),L=a("LeJU"),F=a("XiUz"),A=a("EwFO"),j=a("ofXK");function R(t,e){if(1&t){const t=X.Yb();X.Xb(0,"button",29),X.fc("click",function(){X.Bc(t);const e=X.jc();return e.matDialogRef.close(["delete",e.contactForm])}),X.Nc(1," DELETE "),X.Wb()}}function I(t,e){if(1&t){const t=X.Yb();X.Xb(0,"button",30),X.fc("click",function(){X.Bc(t);const e=X.jc();return e.matDialogRef.close(e.contactForm)}),X.Nc(1," ADD "),X.Wb()}if(2&t){const t=X.jc();X.pc("disabled",t.contactForm.invalid)}}function T(t,e){if(1&t){const t=X.Yb();X.Xb(0,"button",30),X.fc("click",function(){X.Bc(t);const e=X.jc();return e.matDialogRef.close(["save",e.contactForm])}),X.Nc(1," SAVE "),X.Wb()}if(2&t){const t=X.jc();X.pc("disabled",t.contactForm.invalid)}}let O=(()=>{class t{constructor(t,e,a){this.matDialogRef=t,this._data=e,this._formBuilder=a,this.action=e.action,"details"===this.action?(this.dialogTitle="Edit Contact",this.contact=e.contact):(this.dialogTitle="New Contact",this.contact=new L.a({})),this.contactForm=this.createContactForm()}createContactForm(){return this._formBuilder.group({id:[this.contact.id],name:[this.contact.name],lastName:[this.contact.lastName],avatar:[this.contact.avatar],nickname:[this.contact.nickname],company:[this.contact.company],jobTitle:[this.contact.jobTitle],email:[this.contact.email],phone:[this.contact.phone],address:[this.contact.address],birthday:[this.contact.birthday],notes:[this.contact.notes]})}}return t.\u0275fac=function(e){return new(e||t)(X.Rb(_.f),X.Rb(_.a),X.Rb(S.d))},t.\u0275cmp=X.Lb({type:t,selectors:[["contacts-contact-form-dialog"]],decls:87,vars:11,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","",1,"mat-accent","m-0"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom","py-16"],[1,"avatar","contact-avatar","huge","m-0",3,"src","alt"],[1,"contact-name","mt-8"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","pb-0","m-0"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","start start"],["appearance","outline","fxFlex",""],["matSuffix","",1,"secondary-text"],["name","name","formControlName","name","matInput","","required",""],["name","lastName","formControlName","lastName","matInput",""],["name","nickname","formControlName","nickname","matInput",""],["formControlName","phone","matInput",""],["name","email","formControlName","email","matInput","","type","email"],["name","company","formControlName","company","matInput",""],["name","jobTitle","formControlName","jobTitle","matInput",""],["matInput","","name","birthday","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthdayDatePicker",""],["name","address","formControlName","address","matInput",""],["fxLayout","row","fxLayoutAlign","start start",1,"textarea-wrapper"],["name","notes","formControlName","notes","matInput","","type","text","max-rows","4"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center",1,"m-0","p-16"],["mat-button","","class","mr-8","aria-label","Delete","matTooltip","Delete",3,"click",4,"ngIf"],["mat-button","","class","save-button","aria-label","SAVE",3,"disabled","click",4,"ngIf"],["mat-button","","aria-label","Delete","matTooltip","Delete",1,"mr-8",3,"click"],["mat-button","","aria-label","SAVE",1,"save-button",3,"disabled","click"]],template:function(t,e){if(1&t&&(X.Xb(0,"div",0),X.Xb(1,"mat-toolbar",1),X.Xb(2,"mat-toolbar-row",2),X.Xb(3,"span",3),X.Nc(4),X.Wb(),X.Xb(5,"button",4),X.fc("click",function(){return e.matDialogRef.close()}),X.Xb(6,"mat-icon"),X.Nc(7,"close"),X.Wb(),X.Wb(),X.Wb(),X.Xb(8,"mat-toolbar-row",5),X.Sb(9,"img",6),X.Xb(10,"div",7),X.Nc(11),X.Wb(),X.Wb(),X.Wb(),X.Xb(12,"div",8),X.Xb(13,"form",9),X.Xb(14,"div",10),X.Xb(15,"mat-form-field",11),X.Xb(16,"mat-label"),X.Nc(17,"Name"),X.Wb(),X.Xb(18,"mat-icon",12),X.Nc(19,"account_circle"),X.Wb(),X.Sb(20,"input",13),X.Wb(),X.Wb(),X.Xb(21,"div",10),X.Xb(22,"mat-form-field",11),X.Xb(23,"mat-label"),X.Nc(24,"Lastname"),X.Wb(),X.Xb(25,"mat-icon",12),X.Nc(26,"account_circle"),X.Wb(),X.Sb(27,"input",14),X.Wb(),X.Wb(),X.Xb(28,"div",10),X.Xb(29,"mat-form-field",11),X.Xb(30,"mat-label"),X.Nc(31,"Nickname"),X.Wb(),X.Xb(32,"mat-icon",12),X.Nc(33,"star"),X.Wb(),X.Sb(34,"input",15),X.Wb(),X.Wb(),X.Xb(35,"div",10),X.Xb(36,"mat-form-field",11),X.Xb(37,"mat-label"),X.Nc(38,"Phone number"),X.Wb(),X.Xb(39,"mat-icon",12),X.Nc(40,"phone"),X.Wb(),X.Sb(41,"input",16),X.Wb(),X.Wb(),X.Xb(42,"div",10),X.Xb(43,"mat-form-field",11),X.Xb(44,"mat-label"),X.Nc(45,"Email"),X.Wb(),X.Xb(46,"mat-icon",12),X.Nc(47,"email"),X.Wb(),X.Sb(48,"input",17),X.Wb(),X.Wb(),X.Xb(49,"div",10),X.Xb(50,"mat-form-field",11),X.Xb(51,"mat-label"),X.Nc(52,"Company"),X.Wb(),X.Xb(53,"mat-icon",12),X.Nc(54,"domain"),X.Wb(),X.Sb(55,"input",18),X.Wb(),X.Wb(),X.Xb(56,"div",10),X.Xb(57,"mat-form-field",11),X.Xb(58,"mat-label"),X.Nc(59,"Job title"),X.Wb(),X.Xb(60,"mat-icon",12),X.Nc(61,"work"),X.Wb(),X.Sb(62,"input",19),X.Wb(),X.Wb(),X.Xb(63,"div",10),X.Xb(64,"mat-form-field",11),X.Xb(65,"mat-label"),X.Nc(66,"Birthday"),X.Wb(),X.Sb(67,"input",20),X.Sb(68,"mat-datepicker-toggle",21),X.Sb(69,"mat-datepicker",null,22),X.Wb(),X.Wb(),X.Xb(71,"div",10),X.Xb(72,"mat-form-field",11),X.Xb(73,"mat-label"),X.Nc(74,"Address"),X.Wb(),X.Xb(75,"mat-icon",12),X.Nc(76,"home"),X.Wb(),X.Sb(77,"input",23),X.Wb(),X.Wb(),X.Xb(78,"div",24),X.Xb(79,"mat-form-field",11),X.Xb(80,"mat-label"),X.Nc(81,"Notes"),X.Wb(),X.Sb(82,"textarea",25),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Xb(83,"div",26),X.Lc(84,R,2,0,"button",27),X.Lc(85,I,2,1,"button",28),X.Lc(86,T,2,1,"button",28),X.Wb(),X.Wb()),2&t){const t=X.xc(70);X.Fb(4),X.Oc(e.dialogTitle),X.Fb(5),X.pc("src",e.contact.avatar,X.Dc)("alt",e.contact.name),X.Fb(2),X.Qc("",e.contact.name," ",e.contact.lastName,""),X.Fb(2),X.pc("formGroup",e.contactForm),X.Fb(54),X.pc("matDatepicker",t),X.Fb(1),X.pc("for",t),X.Fb(16),X.pc("ngIf","details"===e.action),X.Fb(1),X.pc("ngIf","details"!==e.action),X.Fb(1),X.pc("ngIf","details"===e.action)}},directives:[u.a,u.c,F.c,F.b,n.b,r.a,A.a,S.u,S.o,S.i,l.b,F.a,l.e,l.f,S.c,b.b,S.n,S.g,S.s,s.b,s.d,s.a,j.t],styles:["@media screen and (max-width:599px){.contact-form-dialog{width:100%}}@media screen and (min-width:600px){.contact-form-dialog{width:400px}}.contact-form-dialog .mat-dialog-container{padding:0}.contact-form-dialog .mat-dialog-container .mat-toolbar{flex:1 0 auto;min-height:0}.contact-form-dialog .mat-dialog-container .toolbar-bottom{height:auto}.contact-form-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}"],encapsulation:2}),t})();var P=a("HX77"),U=a("B9zo"),M=a("znSr"),H=a("0EQZ"),B=a("2nsM");const V=["dialogContent"];function $(t,e){1&t&&X.Sb(0,"mat-header-cell")}function E(t,e){if(1&t){const t=X.Yb();X.Xb(0,"mat-cell"),X.Xb(1,"mat-checkbox",20),X.fc("ngModelChange",function(a){X.Bc(t);const c=e.$implicit;return X.jc().checkboxes[c.id]=a})("ngModelChange",function(){X.Bc(t);const a=e.$implicit;return X.jc().onSelectedChange(a.id)})("click",function(t){return t.stopPropagation()}),X.Wb(),X.Wb()}if(2&t){const t=e.$implicit,a=X.jc();X.Fb(1),X.pc("ngModel",a.checkboxes[t.id])}}function G(t,e){1&t&&X.Sb(0,"mat-header-cell")}function q(t,e){if(1&t&&X.Sb(0,"img",22),2&t){const t=X.jc().$implicit;X.pc("alt",t.name)("src",t.avatar,X.Dc)}}function Y(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Lc(1,q,1,2,"img",21),X.Wb()),2&t){const t=e.$implicit;X.Fb(1),X.pc("ngIf",t.avatar)}}function z(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Nc(1,"Name"),X.Wb())}function J(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Xb(1,"p",23),X.Nc(2),X.Wb(),X.Wb()),2&t){const t=e.$implicit;X.Fb(2),X.Qc("",t.name," ",t.lastName,"")}}function Q(t,e){1&t&&(X.Xb(0,"mat-header-cell",24),X.Nc(1,"Email"),X.Wb())}function K(t,e){if(1&t&&(X.Xb(0,"mat-cell",24),X.Xb(1,"p",25),X.Nc(2),X.Wb(),X.Wb()),2&t){const t=e.$implicit;X.Fb(2),X.Pc(" ",t.email," ")}}function Z(t,e){1&t&&(X.Xb(0,"mat-header-cell",26),X.Nc(1,"Phone"),X.Wb())}function tt(t,e){if(1&t&&(X.Xb(0,"mat-cell",26),X.Xb(1,"p",27),X.Nc(2),X.Wb(),X.Wb()),2&t){const t=e.$implicit;X.Fb(2),X.Pc(" ",t.phone," ")}}function et(t,e){1&t&&(X.Xb(0,"mat-header-cell",28),X.Nc(1,"Job title"),X.Wb())}function at(t,e){if(1&t&&(X.Xb(0,"mat-cell",28),X.Xb(1,"p",29),X.Nc(2),X.Wb(),X.Wb()),2&t){const t=e.$implicit;X.Fb(2),X.Pc(" ",t.jobTitle," ")}}function ct(t,e){1&t&&(X.Xb(0,"mat-header-cell",28),X.Nc(1,"Company"),X.Wb())}function nt(t,e){if(1&t&&(X.Xb(0,"mat-cell",28),X.Xb(1,"p",30),X.Nc(2),X.Wb(),X.Wb()),2&t){const t=e.$implicit;X.Fb(2),X.Pc(" ",t.company," ")}}function ot(t,e){1&t&&X.Sb(0,"mat-header-cell")}function it(t,e){1&t&&(X.Xb(0,"mat-icon",39),X.Nc(1,"star"),X.Wb())}function st(t,e){1&t&&(X.Xb(0,"mat-icon",36),X.Nc(1,"star_border"),X.Wb())}function lt(t,e){if(1&t){const t=X.Yb();X.Xb(0,"mat-cell"),X.Xb(1,"div",31),X.Xb(2,"button",32),X.fc("click",function(a){X.Bc(t);const c=e.$implicit,n=X.jc();return a.stopPropagation(),n.toggleStar(c.id)}),X.Lc(3,it,2,0,"mat-icon",33),X.Lc(4,st,2,0,"mat-icon",34),X.Wb(),X.Xb(5,"button",35),X.fc("click",function(t){return t.stopPropagation()}),X.Xb(6,"mat-icon",36),X.Nc(7,"more_vert"),X.Wb(),X.Wb(),X.Xb(8,"mat-menu",null,37),X.Xb(10,"button",38),X.fc("click",function(){X.Bc(t);const a=e.$implicit;return X.jc().deleteContact(a)}),X.Xb(11,"mat-icon"),X.Nc(12,"delete"),X.Wb(),X.Xb(13,"span"),X.Nc(14,"Remove"),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Wb()}if(2&t){const t=e.$implicit,a=X.xc(9),c=X.jc();X.Fb(3),X.pc("ngIf",c.user.starred.includes(t.id)),X.Fb(1),X.pc("ngIf",!c.user.starred.includes(t.id)),X.Fb(1),X.pc("matMenuTriggerFor",a)}}function rt(t,e){1&t&&X.Sb(0,"mat-header-row")}const bt=function(t){return{"accent-50":t}},mt=function(){return{y:"100%"}},dt=function(t){return{value:"*",params:t}};function ut(t,e){if(1&t){const t=X.Yb();X.Xb(0,"mat-row",40),X.fc("click",function(){X.Bc(t);const a=e.$implicit;return X.jc().editContact(a)}),X.Wb()}if(2&t){const t=e.$implicit,a=X.jc();X.pc("ngClass",X.tc(2,bt,a.checkboxes[t.id]))("@animate",X.tc(5,dt,X.sc(4,mt)))}}const ht=function(){return{value:"50"}};let ft=(()=>{class t{constructor(t,e){this._contactsService=t,this._matDialog=e,this.displayedColumns=["checkbox","avatar","name","email","phone","jobTitle","buttons"],this._unsubscribeAll=new x.a}ngOnInit(){this.dataSource=new pt(this._contactsService),this._contactsService.onContactsChanged.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(t=>{this.contacts=t,this.checkboxes={},t.map(t=>{this.checkboxes[t.id]=!1})}),this._contactsService.onSelectedContactsChanged.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(t=>{for(const e in this.checkboxes)this.checkboxes.hasOwnProperty(e)&&(this.checkboxes[e]=t.includes(e));this.selectedContacts=t}),this._contactsService.onUserDataChanged.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(t=>{this.user=t}),this._contactsService.onFilterChanged.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(()=>{this._contactsService.deselectContacts()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}editContact(t){this.dialogRef=this._matDialog.open(O,{panelClass:"contact-form-dialog",data:{contact:t,action:"details"}}),this.dialogRef.afterClosed().subscribe(e=>{if(!e)return;const a=e[1];switch(e[0]){case"save":this._contactsService.updateContact(a.getRawValue());break;case"delete":this.deleteContact(t)}})}deleteContact(t){this.confirmDialogRef=this._matDialog.open(B.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this._contactsService.deleteContact(t),this.confirmDialogRef=null})}onSelectedChange(t){this._contactsService.toggleSelectedContact(t)}toggleStar(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._contactsService.updateUserData(this.user)}}return t.\u0275fac=function(e){return new(e||t)(X.Rb(v),X.Rb(_.b))},t.\u0275cmp=X.Lb({type:t,selectors:[["contacts-contact-list"]],viewQuery:function(t,e){if(1&t&&X.Rc(V,!0),2&t){let t;X.wc(t=X.gc())&&(e.dialogContent=t.first)}},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","checkbox"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","name"],["matColumnDef","email"],["fxHide","","fxShow.gt-sm","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","",4,"matCellDef"],["matColumnDef","phone"],["fxHide","","fxShow.gt-md","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-md","",4,"matCellDef"],["matColumnDef","jobTitle"],["fxHide","","fxShow.gt-lg","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-lg","",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","contact",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"ngModel","ngModelChange","click"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxHide","","fxShow.gt-sm",""],[1,"email","text-truncate"],["fxHide","","fxShow.gt-md",""],[1,"phone","text-truncate"],["fxHide","","fxShow.gt-lg",""],[1,"job-title","text-truncate"],[1,"company","text-truncate"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"amber-fg"],[1,"contact",3,"ngClass","click"]],template:function(t,e){1&t&&(X.Xb(0,"mat-table",0,1),X.Vb(2,2),X.Lc(3,$,1,0,"mat-header-cell",3),X.Lc(4,E,2,1,"mat-cell",4),X.Ub(),X.Vb(5,5),X.Lc(6,G,1,0,"mat-header-cell",3),X.Lc(7,Y,2,1,"mat-cell",4),X.Ub(),X.Vb(8,6),X.Lc(9,z,2,0,"mat-header-cell",3),X.Lc(10,J,3,2,"mat-cell",4),X.Ub(),X.Vb(11,7),X.Lc(12,Q,2,0,"mat-header-cell",8),X.Lc(13,K,3,1,"mat-cell",9),X.Ub(),X.Vb(14,10),X.Lc(15,Z,2,0,"mat-header-cell",11),X.Lc(16,tt,3,1,"mat-cell",12),X.Ub(),X.Vb(17,13),X.Lc(18,et,2,0,"mat-header-cell",14),X.Lc(19,at,3,1,"mat-cell",15),X.Ub(),X.Vb(20,16),X.Lc(21,ct,2,0,"mat-header-cell",14),X.Lc(22,nt,3,1,"mat-cell",15),X.Ub(),X.Vb(23,17),X.Lc(24,ot,1,0,"mat-header-cell",3),X.Lc(25,lt,15,3,"mat-cell",4),X.Ub(),X.Lc(26,rt,1,0,"mat-header-row",18),X.Lc(27,ut,1,7,"mat-row",19),X.Wb()),2&t&&(X.pc("dataSource",e.dataSource)("@animateStagger",X.sc(4,ht)),X.Fb(26),X.pc("matHeaderRowDef",e.displayedColumns),X.Fb(1),X.pc("matRowDefColumns",e.displayedColumns))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,o.a,S.n,S.q,j.t,M.b,F.a,F.b,n.b,m.d,r.a,m.a,m.b,d.f,d.h,j.q,M.a],styles:["contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:D.a}}),t})();class pt extends H.b{constructor(t){super(),this._contactsService=t}connect(){return this._contactsService.onContactsChanged}disconnect(){}}let gt=(()=>{class t{constructor(t,e){this._contactsService=t,this._matDialog=e,this._unsubscribeAll=new x.a}ngOnInit(){this._contactsService.onSelectedContactsChanged.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(t=>{this.selectedContacts=t,setTimeout(()=>{this.hasSelectedContacts=t.length>0,this.isIndeterminate=t.length!==this._contactsService.contacts.length&&t.length>0},0)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}selectAll(){this._contactsService.selectContacts()}deselectAll(){this._contactsService.deselectContacts()}deleteSelectedContacts(){this.confirmDialogRef=this._matDialog.open(B.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete all selected contacts?",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this._contactsService.deleteSelectedContacts(),this.confirmDialogRef=null})}}return t.\u0275fac=function(e){return new(e||t)(X.Rb(v),X.Rb(_.b))},t.\u0275cmp=X.Lb({type:t,selectors:[["selected-bar"]],decls:27,vars:2,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"p-24"],["fxFlex","0 1 auto","fxFlex.gt-sm","220px",1,"close-button-wrapper",3,"click"],["mat-button","","fxLayout","row","fxLayoutAlign","start center",1,"p-8"],[1,"mr-8"],[1,"text-uppercase"],["fxFlex","","fxLayout","row","fxLayoutAlign","end center","fxLayoutAlign.gt-sm","space-between center"],[1,"selected-contacts-count"],[1,"mr-4"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"multi-select-actions"],["mat-icon-button","","aria-label","delete selected",3,"click"]],template:function(t,e){if(1&t&&(X.Xb(0,"div",0),X.Xb(1,"div",1),X.fc("click",function(){return e.deselectAll()}),X.Xb(2,"button",2),X.Xb(3,"mat-icon",3),X.Nc(4,"arrow_back"),X.Wb(),X.Xb(5,"span",4),X.Nc(6,"Back"),X.Wb(),X.Wb(),X.Wb(),X.Xb(7,"div",5),X.Xb(8,"div"),X.Xb(9,"span",6),X.Xb(10,"span",7),X.Nc(11),X.Wb(),X.Xb(12,"span"),X.Nc(13,"selected"),X.Wb(),X.Wb(),X.Xb(14,"button",8),X.Xb(15,"mat-icon"),X.Nc(16,"arrow_drop_down"),X.Wb(),X.Wb(),X.Xb(17,"mat-menu",null,9),X.Xb(19,"button",10),X.fc("click",function(){return e.selectAll()}),X.Nc(20,"Select all"),X.Wb(),X.Xb(21,"button",10),X.fc("click",function(){return e.deselectAll()}),X.Nc(22,"Deselect all"),X.Wb(),X.Wb(),X.Wb(),X.Xb(23,"div",11),X.Xb(24,"button",12),X.fc("click",function(){return e.deleteSelectedContacts()}),X.Xb(25,"mat-icon"),X.Nc(26,"delete"),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Wb()),2&t){const t=X.xc(18);X.Fb(11),X.Oc(e.selectedContacts.length),X.Fb(3),X.pc("matMenuTriggerFor",t)}},directives:[F.a,F.c,F.b,n.b,r.a,m.d,m.a,m.b],styles:["[_nghost-%COMP%]{flex:1;position:absolute;top:0;right:0;left:0;height:120px;z-index:99}"]}),t})();function xt(t,e){1&t&&X.Sb(0,"selected-bar",18),2&t&&X.pc("@slideInTop",void 0)}const Ct=function(){return{delay:"50ms",scale:"0.2"}},wt=function(t){return{value:"*",params:t}},Xt=function(){return{delay:"100ms",x:"-25px"}},Wt=function(){return{delay:"300ms",scale:".2"}},vt=[{path:"**",component:(()=>{class t{constructor(t,e,a){this._contactsService=t,this._fuseSidebarService=e,this._matDialog=a,this.searchInput=new S.e(""),this._unsubscribeAll=new x.a}ngOnInit(){this._contactsService.onSelectedContactsChanged.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(t=>{this.hasSelectedContacts=t.length>0}),this.searchInput.valueChanges.pipe(Object(y.a)(this._unsubscribeAll),Object(N.a)(300),Object(k.a)()).subscribe(t=>{this._contactsService.onSearchTextChanged.next(t)})}ngOnDestroy(){this._contactsService.onSearchTextChanged.next(""),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}newContact(){this.dialogRef=this._matDialog.open(O,{panelClass:"contact-form-dialog",data:{action:"new"}}),this.dialogRef.afterClosed().subscribe(t=>{t&&this._contactsService.updateContact(t.getRawValue())})}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}}return t.\u0275fac=function(e){return new(e||t)(X.Rb(v),X.Rb(P.a),X.Rb(_.b))},t.\u0275cmp=X.Lb({type:t,selectors:[["parents"]],decls:29,vars:14,consts:[["id","contacts",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","accent","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-sm","",1,"sidebar-toggle","mr-12",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","mr-16"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","",1,"ml-sm-32"],[1,"search-wrapper","mt-16","mt-sm-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a contact",3,"formControl"],["class","accent-600",4,"ngIf"],[1,"content"],["fusePerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],["dynamicHeight",""],["label","Active Trips"],["label","Closed Trips"],["mat-fab","","id","add-contact-button","aria-label","add contact",1,"accent",3,"click"],[1,"accent-600"]],template:function(t,e){1&t&&(X.Xb(0,"div",0),X.Xb(1,"div",1),X.Xb(2,"div",2),X.Xb(3,"button",3),X.fc("click",function(){return e.toggleSidebar("contacts-main-sidebar")}),X.Xb(4,"mat-icon"),X.Nc(5,"menu"),X.Wb(),X.Wb(),X.Xb(6,"div",4),X.Xb(7,"mat-icon",5),X.Nc(8,"account_box "),X.Wb(),X.Xb(9,"span",6),X.Nc(10," Parents "),X.Wb(),X.Wb(),X.Wb(),X.Xb(11,"div",7),X.Xb(12,"div",8),X.Xb(13,"div",9),X.Xb(14,"mat-icon"),X.Nc(15,"search"),X.Wb(),X.Sb(16,"input",10),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Lc(17,xt,1,1,"selected-bar",11),X.Xb(18,"div",12),X.Xb(19,"div",13),X.Xb(20,"div",12),X.Xb(21,"mat-tab-group",14),X.Xb(22,"mat-tab",15),X.Sb(23,"contacts-contact-list"),X.Wb(),X.Xb(24,"mat-tab",16),X.Sb(25,"contacts-contact-list"),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Xb(26,"button",17),X.fc("click",function(){return e.newContact()}),X.Xb(27,"mat-icon"),X.Nc(28,"person_add"),X.Wb(),X.Wb()),2&t&&(X.Fb(7),X.pc("@animate",X.tc(6,wt,X.sc(5,Ct))),X.Fb(2),X.pc("@animate",X.tc(9,wt,X.sc(8,Xt))),X.Fb(7),X.pc("formControl",e.searchInput),X.Fb(1),X.pc("ngIf",e.hasSelectedContacts),X.Fb(9),X.pc("@animate",X.tc(12,wt,X.sc(11,Wt))))},directives:[U.a,F.c,F.b,n.b,M.b,r.a,F.a,S.c,S.n,S.f,j.t,A.a,h.b,h.a,ft,gt],styles:["#contacts .header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}#contacts .header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}#contacts .header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}#contacts .content{overflow:hidden}#contacts .content .sidebar:not(.locked-open){background:#fff}contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:D.a}}),t})(),resolve:{contacts:v}}];let St=(()=>{class t{}return t.\u0275mod=X.Pb({type:t}),t.\u0275inj=X.Ob({factory:function(e){return new(e||t)},providers:[v],imports:[[c.j.forChild(vt),n.c,o.b,s.c,l.d,r.b,b.c,m.c,i.p,d.k,u.b,h.c,f.a,p.a,p.f]]}),t})()}}]);